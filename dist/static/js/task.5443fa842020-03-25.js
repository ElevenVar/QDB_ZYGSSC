(window.webpackJsonp=window.webpackJsonp||[]).push([["task"],{"A/Ru":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAE/ElEQVRIS62WbWxTVRjH/+fc2/audKwdDDa2CUQQIhGMiyQSZhgMJkjCSyMYQ6K8GnF8ICAzxhAgCGJI+AABFN8TjBIGxqiJhK0fFnlZGJNBYKJC5ua6yUZb99benhdzbnf3UroNoje5bdNzzvN7/s/zv+dcghGuxtbOmRDcD8hCQE4HaGZiibgPkHqAVIFq5fnjPXXDhSJDDTY3hwsExQEpsWCkZNQ4IaigAmUTJnhrUs1/ACSl1JtawocIoZullPRhIPYcQoiQUhzNy/ZuJYSwgWsHgRoawj7qRDmAokcBpJgbECb8Eyd6Q31J2D8SSiLn/geIHTKQl52xyFbWp6gxGDoMkNL/qCRpuTySn+PbYvVQfSQaT6oftScjJaV6RoWcrQxigZpawucf1l0jBU8eV27My/YWk8Rzwq4lT5BSou3vVmSNzx4xdsPdP3CtphpLV64GpSmMSvVZpDEY2Q3IncnRrlZfQlnpOhQvWYayXfuHhAkh4F84B3OLFmLrO7tTg0D2kMZguLLfaRJOhwZdo2BcoL39Pm78Uovnnh/e7XW1V1Dw7GwYLg0aJdbaWJzDNAUIsboTII3BUDNAcnSNYLTHaUFU2bgQ4EKisysOLoavngKMHuWEVBuTtS5xm0wg2qNgCKrSRQmka4zXAKUEPbEYKi5ewrTJkzAxNxdMCHR1cUgVJcWlWjLWm2aNmPE49h47DqfTiddfXo20tDTEogKck5gFchuay+N24F4ohCyfDxu2bUPd3Qa899Z2zC14BlGTI26mBrkNHWrthdpa5Gdno2z7NtwMtmLZihXYsWkj4kzAjFmgUHO625mTZuj44ONPUF9bg8s/fg/NNwaFy/04+PYO3I5E8Mali+CagFLewTkEKNyaA29OmoblE/Lx+dlv8cnxo2ivvwmanoGnSpbgxL694KpfUalKF670uB1FKrNPy8/g1OnTWFzwND777gcsX7XKyuqnv5qw4cLPyB/jhneUAbVbMhDrfmncYyibNgMx08T+Y8dx9puvoXl9WL9mDV71rwSLC5imZYbIbqeD7PSmu9ATjWLfhx+hpa3NcsuuLaXwZWTg3as1+PLO73gyNwOgtA+iQLyboWr+C0h3OFB76xYCl6sxOS8PJYVzoTwU7eEQgu7pe2AdBoHPbViNEL2uU99X7t3DikAFcrwGMtMN8F4lliJJ0GMyTJEOfDVvPjy6nnCclJb73r9eB4fUsWnKjFmWyavu3Dl/4s/LC+ZkPY4luU8gy+VCyDTxxW+3cfDGdYwd7cT4DMMKbJfMBilwKNwJR5Rh7dSpyDIMdMbjONPQgF//iagTsaJz7fpiC/RK5ckCQlHNBGgHA1q6BSIxDpeuIdPjgK5rCSVJoIH/dXVF0dPRBREfdN4JQeXs7tc2JjZVCxY4eZhLUtqfMXoDJ3rClQFSKGKgg8eEBOMSrLsbsqPjSOe6Df3HhALNCwT0cQieY5IU2WWxoX19kcptvWaQAAdF3EpClbQ/MZWU5CIQNtyLUFRkSRx0lL9YddLnZFo5kxgEG6pscWlDBpeVExKQMeaPLF364FFul1Ap86D1EJdkc1wSOrDpqYyQpF5wQo+2666tthI77pCvW4sqTxUIkANMkgX9ZRngut5+2WXloBWm0MraSkoe7nUreUcrPH96pqDUzyQKmSTTGWimAnOJ+wyknhFaxaCVNxUvHvYF8l/fN4khM+xeNwAAAABJRU5ErkJggg=="},BA6A:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=m(a("cLjf")),i=m(a("hDQ3")),n=m(a("EPZ6")),o=m(a("unDg")),r=m(a("bS4n")),c=a("8t5x"),l=m(a("MhXW")),d=m(a("a/LZ")),u=m(a("agur")),k=m(a("iNDL")),g=m(a("qvHG")),h=m(a("A/Ru"));function m(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Task",filters:{filteTime:function(t){return(0,d.default)(Number(t)).format("YYYY-MM-DD")}},components:{taskBitMap:l.default,propComponent:k.default,transactorProp:g.default},data:function(){return{saveLodading:!1,checkedTaskCode:null,taskList:[],taskListData:[],defaultTaskDetailItem:"",DetailDocumentfileLists:[],activeRadioData:"1",cloneClickLiskItem:{},toTransactor:!1,STOREID:null,fileLoading:!1,taskScrollPage:!1,queryinfiniteScrollFalg:!1,scrollQueryDataFlag:!0,DetailQueryInventoryPage:1,clonetDetaildeadLineTime:"",list:[],fileList:[],showImgList:[],imageView:!1,imageUrl:"",acceptType:["doc","docx","xls","xlsx","ppt","mp3","wma","wav","pdf","pptx","txt","jpg","jpeg","gif","png","bmp","rar","zip","gz","mp4","wmv","avi","3gp","mkv"],docIconList:{".doc.docx":"icon_word",".xls.xlsx":"icon_excel",".ppt.pptx":"icon_ppt",".txt":"icon_txt",".mp3.wma.wav":"icon_music",".mp4.wmv.avi.3gp.mkv":"icon_video",".jpg.jpeg.gif.png.bmp":"icon_pic",".rar.zip.gz":"icon_package",".pdf":"icon_pdf"},DetailDocumentfileId:"",officeTypes:["doc","docx","xls","xlsx","ppt","pptx","txt"],imageTypes:["jpg","jpeg","gif","png","bmp"],docModal:!1,taskMissonContent:"",showTaskMissonContent:!1,cloneTaskDetailVoTaskMisson:"",defulutTimeKey:"截止前",taskTransactorImg:h.default,errorDefaultImg:'this.src="'+h.default+'"',userInfoSrc:a("nPxU"),productKeywordsVal:"",taskloading:!1,productCode:"",checkedProductId:"",checkedTaskListId:"",popperOptions:{boundariesElement:"body"},taskpage:1,taskLimit:20,showTips:!1,taskProductList:[],taskDetailData:{},btnName:"开展更多",iconType:"icon_extend",tabNames:["店铺成员","外部合作"],count:0,upAllPop:!1,radioArray:[{label:"备注",value:"1"},{label:"记录",value:"2"}],taskDetailQueryType:1,taskDetailTerminal:"caserecode_type_25",recordListData:[],remarksTextArea:"",searchKey:"",taskExplainHeight:"48px",storeFlagUser:0,transactorData:[],thisStoreRealName:"",thisStorePhone:"",thisCheckedStoreId:"",formatTimesArr:[],choosedTimeReminderTime:[],addReminderTime:"",showAddRemind:!1,showChooseProductName:"全部"}},computed:(0,r.default)({},(0,c.mapState)(["userId","taskStatusCodes","XReqYT","orderStatus","allRemindTimesData","storeQalNspectionsStatus","transactionItem"]),{uploadUrl:function(){return u.default.uploadUrl},listUrl:function(){return u.default.listUrl},downloadUrl:function(){return u.default.downloadUrl},deleteUrl:function(){return u.default.deleteUrl},uploadparams:function(){var t=this.DetailDocumentfileId.split("_");return{fileId:t[0]+"_"+t[1],fileIdAdd:t[2]+"_"+t[3],isDeleteOriginalFile:!1,type:t[4]+"_"+t[5]}}}),watch:{},created:function(){var t=sessionStorage.getItem("workBrenchTaskStageId"),e=sessionStorage.getItem("workBrenchTaskTaskId");t&&(this.checkedTaskCode=t),e&&(this.checkedTaskListId=e),this.statisticalTaskFn(),this.getSearch_product()},mounted:function(){this.formatTimesArr=this.allRemindTimesData.map(function(t,e){return t.name})},beforeDestroy:function(){this.setWorkBrenchTaskStageId(""),this.setWorkBrenchTaskTaskId("")},methods:(0,r.default)({},(0,c.mapActions)(["ruoterJump"]),(0,c.mapActions)("workbenchTaskModule",["search_product","task_detail_generate","task_query_inventory","task_add_reminder","task_updtae_reminder","task_delete_reminder","get_store_user","task_setting_manager","deleter_setting_manger","task_description_change","queryTaskRecordPage"]),(0,c.mapActions)("workbenchModule",["zygs_workbench_taskList"]),(0,c.mapActions)("transactionModule",["search_files","update_files"]),(0,c.mapActions)("commonModule",["genera_tetemplate"]),(0,c.mapMutations)(["setTransactionItem","setTransactionStageId","setTransactionTaskId","setWorkBrenchTaskStageId","setWorkBrenchTaskTaskId"]),(0,c.mapMutations)(["receiveModule"]),(0,c.mapActions)("homeTaskModule",["zysc_homeTask_list","zysc_homeTask_c","zysc_homeTask_details","zysc_homeTask_record","zysc_homeTask_record_add","zysc_homeTask_getProduct","zysc_complete_task_service","zysc_manageTaskHandler_operation","ztsc_task_updtae_reminder","zysc_task_delete_reminder","zysc_get_production_order_details_data"]),{searchFilesFn:function(){var t=this;this.search_files({fileId:this.DetailDocumentfileId}).then(function(e){200==e.code&&e.data.length>0?t.DetailDocumentfileLists=e.data:t.DetailDocumentfileLists=[],t.$forceUpdate()})},showTaskMissonContentView:function(t){var e=this;this.showTaskMissonContent=!this.showTaskMissonContent,this.showTaskMissonContent&&this.$nextTick(function(){e.$refs.editTaskMissonContentVal.$refs.textarea.focus()}),t?(this.taskMissonContent=t,this.cloneTaskDetailVoTaskMisson=t):this.taskMissonContent=""},addtaskKewordsVal:function(t){var e=this;this.task_description_change({zygsscId:this.defaultTaskDetailItem.taskDetailVO.zygsscId,explainComent:t,taskId:this.defaultTaskDetailItem.taskDetailVO.taskId}).then(function(t){200==t.code?(e.$notify({title:"提示",message:t.message,type:"success",customClass:"dgg-tip-msg"}),e.DetailQueryInventoryPage=1,e.clearDetailData(),e.updateDeatailData()):(e.$notify({type:"error",message:t.message,customClass:"dgg-tip-msg"}),e.$nextTick(function(){e.showTaskMissonContent=!1,e.taskDetailData.taskDetailVO.taskExplain=e.cloneTaskDetailVoTaskMisson}))})},statisticalTaskFn:function(){var t=this;this.zysc_homeTask_list({storeId:"123"}).then(function(e){200==e.code&&(t.taskList=e.data?e.data:[],e.data.length>0&&(t.checkedTaskCode?t.taskListCodeFn(t.checkedTaskCode,"",""):(t.checkedTaskCode=e.data[0].taskStatusCode,t.taskListCodeFn(e.data[0].taskStatusCode,"",""))))})},searchTaskLsit:function(t){this.taskpage=1,this.checkedTaskCode=t,this.taskListCodeFn(t,"",""),this.showChooseProductName="全部",this.clearAllDetailData(),this.checkedTaskListId="",this.checkedProductId=""},taskListCodeFn:function(t,e,a,s){var i=this;s&&(this.taskListData=[]),this.zysc_homeTask_c({storeId:"123",queryWord:e,headTaskItemCode:t,productId:a,limit:this.taskLimit,start:this.taskpage}).then(function(t){200==t.code?(i.$nextTick(function(){i.taskListData=[].concat((0,o.default)(i.taskListData),(0,o.default)(t.data.records))}),t.data.records.length<i.taskLimit?i.taskScrollPage=!1:(i.taskScrollPage=!0,i.taskpage++),t.data.records.length>0&&(0,n.default)(i.taskDetailData).length<1&&(i.checkedTaskListId||(i.checkedTaskListId=t.data.records[0].taskId,i.cloneClickLiskItem=t.data.records[0]),i.STOREID=t.data.records[0].storeId,i.chageTaskListId()),t.data.total<1&&i.$nextTick(function(){i.taskDetailData={}})):(i.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"}),i.taskloading=!1,i.taskScrollPage=!1,i.taskpage=1,i.taskListData=[])})},addRemidItem:function(t){var e=this;this.task_add_reminder({zygsscId:this.defaultTaskDetailItem.taskDetailVO.zygsscId,taskId:this.defaultTaskDetailItem.taskDetailVO.taskId,remindConditionCode:this.defulutTimeKey,remindConditionName:this.defulutTimeKey,remindValueCode:t.split(":")[1],remindValueName:t.split(":")[0]}).then(function(t){200==t.code?(e.getTaskQueryInentory(),e.$notify({title:"提示",message:t.message,type:"success",customClass:"dgg-tip-msg"}),e.clearDetailData(),e.updateDeatailData()):e.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"})})},changeRemidItem:function(t){var e=this;this.$nextTick(function(){e.ztsc_task_updtae_reminder({zygsscId:e.defaultTaskDetailItem.taskDetailVO.zygsscId,taskId:e.defaultTaskDetailItem.taskDetailVO.taskId,remindConditionCode:e.defulutTimeKey,remindConditionName:e.defulutTimeKey,remindId:t.id,remindValueCode:t.reminderValue.split(":")[1],remindValueName:t.reminderValue.split(":")[0]}).then(function(t){200==t.code?(e.DetailQueryInventoryPage=1,e.clearDetailData(),e.getTaskQueryInentory(),e.$notify({title:"提示",message:t.message,type:"success",customClass:"dgg-tip-msg"}),e.clearDetailData(),e.updateDeatailData()):e.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"})})})},remindDelete:function(t){var e=this;this.$confirm("是否删除本条提醒时间？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.zysc_task_delete_reminder({remindId:t.id,taskId:e.defaultTaskDetailItem.taskDetailVO.taskId}).then(function(t){200==t.code?(e.DetailQueryInventoryPage=1,e.clearDetailData(),e.getTaskQueryInentory(),e.$notify({title:"提示",type:"success",message:t.message,customClass:"dgg-tip-msg"}),e.clearDetailData(),e.updateDeatailData()):e.$notify({type:"error",message:t.message,customClass:"dgg-tip-msg"})})}).catch({})},saveRemarksFn:function(){var t=this;this.saveLodading=!0,this.remarksTextArea&&this.defaultTaskDetailItem&&this.task_detail_generate({zygsscId:this.taskDetailData.taskDetailVO.zygsscId,taskName:this.taskDetailData.taskDetailVO.taskName,taskId:this.checkedTaskListId,remarkContent:this.remarksTextArea}).then(function(e){t.saveLodading=!1,200==e.code?(t.$notify({title:"提示",message:e.message,type:"success",customClass:"dgg-tip-msg"}),t.remarksTextArea="",t.DetailQueryInventoryPage=1,t.recordListData=[],t.getTaskQueryInentory()):t.$notify({message:e.message,type:"error",customClass:"dgg-tip-msg"})}).catch(function(t){})},getTaskQueryInentory:function(){var t=this;this.task_query_inventory({start:this.DetailQueryInventoryPage,limit:20,taskId:this.checkedTaskListId,zygsscId:this.defaultTaskDetailItem.taskDetailVO.zygsscId}).then(function(e){200==e.code?(e.data.records.length<20?(t.scrollQueryDataFlag=!1,t.queryinfiniteScrollFalg=!0):(t.scrollQueryDataFlag=!0,t.queryinfiniteScrollFalg=!1,t.DetailQueryInventoryPage++),t.$nextTick(function(){t.recordListData=[].concat((0,o.default)(t.recordListData),(0,o.default)(e.data.records))})):(t.DetailQueryInventoryPage=1,t.scrollQueryDataFlag=!1,t.queryinfiniteScrollFalg=!0,t.recordListData=[])})},queryTaskRecordPageFn:function(){var t=this;this.queryTaskRecordPage({start:this.DetailQueryInventoryPage,limit:20,taskId:this.checkedTaskListId,zygsscId:this.taskDetailData.taskDetailVO.zygsscId}).then(function(e){200==e.code?(e.data.records.length<20?(t.scrollQueryDataFlag=!1,t.queryinfiniteScrollFalg=!0):(t.scrollQueryDataFlag=!0,t.queryinfiniteScrollFalg=!1,t.DetailQueryInventoryPage++),t.$nextTick(function(){t.recordListData=[].concat((0,o.default)(t.recordListData),(0,o.default)(e.data.records))})):(t.DetailQueryInventoryPage=1,t.scrollQueryDataFlag=!1,t.queryinfiniteScrollFalg=!0,t.recordListData=[])})},dropdownDetailQueryInventory:function(){this.scrollQueryDataFlag&&(1==this.activeRadioData?this.getTaskQueryInentory():this.queryTaskRecordPageFn())},changeRadioVal:function(t){this.queryinfiniteScrollFalg=!0,this.scrollQueryDataFlag=!0,this.DetailQueryInventoryPage=1,this.recordListData=[],this.activeRadioData=t,1==t?this.getTaskQueryInentory():this.queryTaskRecordPageFn()},isClickCheckStatus:function(t){return 1!=t.taskSwitching?"QDS_ZYGSSC_TASKSTATUS_CODE3"==t.taskSwitchingCode:1==t.isCheck&&("NODE_QUALITY_AWAIT"==t.qalNspectionsStatus||("NODE_QUALITY_REVIEW"==t.qalNspectionsStatus||("NODE_QUALITY_COMPLETE"==t.qalNspectionsStatus||"NODE_QUALITY_REFUSE"!=t.qalNspectionsStatus&&void 0)))},isClickDetails:function(t){if("QDS_ZYGSSC_TASKSTATUS_CODE7"==t.taskSwitchingCode||"QDS_ZYGSSC_TASKSTATUS_CODE3"==t.taskSwitchingCode||1==t.taskSwitching)return!0},searchTaskKeyWords:function(){var t=this;this.$nextTick(function(){t.taskpage=1,t.taskListData=[],t.taskListCodeFn(t.checkedTaskCode,t.searchKey,"","search")})},toTranstionDetail:function(t,e){var a=this;0!=t.userInProject?e&&this.zysc_get_production_order_details_data({id:e}).then(function(e){200==e.code&&(t.stageId&&a.setTransactionStageId(t.stageId),t.taskId&&a.setTransactionTaskId(t.taskId),a.ruoterJump({name:"transactionTask",params:{title:e.data.customerName+"-"+e.data.scOrderNo}}),a.setTransactionItem(e.data))}):this.$notify({title:"提示",message:"您不是此项目成员！",type:"warning",customClass:"dgg-tip-msg"})},GetLength:function(t){for(var e=0,a=t.length,s=-1,i=0;i<a;i++)e+=(s=t.charCodeAt(i))>=0&&s<=128?1:2;return e},dropdownTaskPage:function(){this.taskScrollPage&&this.taskListCodeFn(this.checkedTaskCode,"","")},getIconByType:function(t){var e=t.filename&&t.filename.substr(t.filename.lastIndexOf(".")+1),a=(0,n.default)(this.docIconList).find(function(t){return t.indexOf(e)>-1});return this.docIconList[a]||"icon_others"},viewDocument:function(t,e){if(this.imageTypes.includes(e))this.imageUrl="",this.imageView=!0,this.imageUrl=t.filepath,this.showImgList=[this.imageUrl],this.$forceUpdate(),this.$refs.imageViewRef.clickHandler();else{var a=encodeURI(encodeURI(t.filename));window.open(t.filepath+"?title="+a)}},getDocumentType:function(t){return t.filename&&t.filename.substr(t.filename.lastIndexOf(".")+1)},downloadDocument:function(t){var e=encodeURI(encodeURI(t.filename)),a=this.downloadUrl+"?fileUrl="+t.filepath+"&fileName="+e;window.open(a,"_blank")},invalidDocument:function(t){var e=this;this.$confirm("作废后可在作废文件夹中找回该文件，确认要作废该文件？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.update_files({fileId:t.fileid,fileName:t.filename,state:0}).then(function(a){200===a.code?(e.$notify({title:"提示",message:"操作成功",type:"success",customClass:"dgg-tip-msg"}),e.invalidDocumentRecords("",t),e.searchFilesFn()):e.$notify({message:a.message,type:"error",customClass:"dgg-tip-msg"})})}).catch(function(){})},closeModal:function(){this.docModal=!1,this.searchFilesFn()},updateDeatailData:function(){this.chageTaskListId(this.defaultTaskDetailItem.taskDetailVO)},saveFormatRemarksTextArea:function(t){this.remarksTextArea=t.replace(/(^\s*)|(\s*$)/g,"")},getProductVal:function(t){this.productKeywordsVal=t,this.getSearch_product()},getSearch_product:function(){var t=this;this.zysc_homeTask_getProduct({queryWord:this.XReqYT}).then(function(e){if(200==e.code&&e.data.length>0){t.taskProductList=[{productName:"全部",productId:"0"}].concat(e.data)}else t.taskProductList=[{productName:"全部",productId:"0"}]})},chooseProductNameFn:function(t){this.checkedProductId=t.productId,this.productCode=t.productName,this.showChooseProductName=t.productName,this.upAllPop=!this.upAllPop,this.taskpage=1,"全部"==t.productName?(this.productCode="",this.taskListCodeFn(this.checkedTaskCode,"","","search")):this.taskListCodeFn(this.checkedTaskCode,"",t.productId,"search")},chageTaskListId:function(t){var e=this,a=void 0;t?(this.STOREID=t.storeId,this.checkedTaskListId=t.taskId,a=t.taskId):a=this.checkedTaskListId,this.clearDetailData(),this.zysc_homeTask_details({taskId:a}).then(function(t){200==t.code?(e.taskDetailData=t.data,e.$nextTick(function(){e.taskDetailData=t.data,e.defaultTaskDetailItem=t.data,e.DetailDocumentfileId="ZYGSSC_"+t.data.taskDetailVO.scOrderId+"_TASK_"+t.data.taskDetailVO.taskId+"_TASK_ANNEX",e.searchFilesFn(),e.getTaskQueryInentory()})):e.$nextTick(function(){e.taskDetailData={}})})},clearAllDetailData:function(){this.checkedProductId="",this.productCode="",this.searchKey="",this.toTransactor=!1,this.thisCheckedStoreId="",this.taskListData=[],this.taskDetailData={},this.remarksTextArea="",this.choosedTimeReminderTime=[],this.addReminderTime="",this.showAddRemind=!1,this.taskMissonContent="",this.showTaskMissonContent=!1,this.DetailDocumentfileLists=[],this.DetailDocumentfileId="",this.taskDetailQueryType=1,this.activeRadioData="1",this.defaultTaskDetailItem={},this.recordListData=[]},clearDetailData:function(){this.toTransactor=!1,this.thisCheckedStoreId="",this.taskDetailData={},this.remarksTextArea="",this.choosedTimeReminderTime=[],this.addReminderTime="",this.showAddRemind=!1,this.taskMissonContent="",this.showTaskMissonContent=!1,this.DetailDocumentfileLists=[],this.DetailDocumentfileId="",this.taskDetailQueryType=1,this.activeRadioData="1",this.recordListData=[],this.DetailQueryInventoryPage=1},requestCompleteTaskService:function(t,e){var a=this;this.zysc_complete_task_service({isActive:e,isCheck:t.isCheck,isKeyTask:t.isKeyTask,stageId:t.stageId,storeId:this.STOREID,taskId:t.taskId,taskSwitchingCode:t.taskSwitchingCode,zygsscId:t.zygsscId}).then(function(s){200==s.code?(a.$notify({title:"提示",message:s.message,type:"success",customClass:"dgg-tip-msg"}),a.$nextTick(function(){t.taskSwitching=e,a.taskListData=[],a.taskpage=1,a.clearAllDetailData(),a.statisticalTaskFn()})):a.$notify({message:s.message,type:"error",customClass:"dgg-tip-msg"})})},stateChange:function(t){var e=this;this.checkedTaskListId=t.taskId,this.cloneClickLiskItem=t,1!=t.isCheck&&1!=t.taskSwitching&&this.$confirm("确认完成任务？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(a){e.requestCompleteTaskService(t,0)}).catch(function(e){t.taskSwitching=0}),1==t.isCheck&&1!=t.taskSwitching&&this.$confirm("该任务为关键任务，点击完成后将提交至后台进行质检，确认完成？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(a){e.requestCompleteTaskService(t,0)}).catch(function(e){t.taskSwitching=0}),1==t.taskSwitching&&this.$confirm("激活任务后，任务将重新显示为未完成状态，任务信息不改变，确认激活？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(a){e.requestCompleteTaskService(t,1)}).catch(function(e){t.taskSwitching=1})},changeTaskExplainHight:function(){"48px"==this.taskExplainHeight?(this.taskExplainHeight="none",this.btnName="收起",this.iconType="icon_retract"):(this.taskExplainHeight="48px",this.btnName="展开更多",this.iconType="icon_extend")},changeStoreFlagUser:function(t){this.storeFlagUser=t,this.requestStoreUser()},load:function(){},addTransactor:function(t){var e=window.event||t;e.preventDefault(),e.stopPropagation(),this.toTransactor=!this.toTransactor,this.requestStoreUser()},requestStoreUser:function(){var t=this;this.get_store_user({storeId:this.STOREID,realName:this.thisStoreRealName,phone:this.thisStorePhone,flag:this.storeFlagUser,isCertification:1,currentStatus:"EMPLOYEE_STATUS_1"}).then(function(e){200==e.code&&(t.transactorData=e.data)}).catch(function(t){})},storeKeyWordsFn:function(t,e){0==t?this.thisStoreRealName=e:this.thisStorePhone=e,this.requestStoreUser()},clearNamePhone:function(){this.thisStoreRealName="",this.thisStorePhone=""},closeStoreProp:function(){this.toTransactor=!1,this.storeFlagUser=0,this.thisCheckedStoreId="",this.clearNamePhone()},chooseStoreDataFn:function(t){var e=this;this.thisCheckedStoreId=t.userId,this.$nextTick(function(){e.zysc_manageTaskHandler_operation({isDelete:0,memberId:t.userId,memberName:t.realName,taskId:e.defaultTaskDetailItem.taskDetailVO.taskId,zygsscId:e.defaultTaskDetailItem.taskDetailVO.zygsscId}).then(function(t){200==t.code?(e.$notify({title:"提示",message:t.message,type:"success",customClass:"dgg-tip-msg"}),e.$nextTick(function(){e.taskpage=1,e.taskListData=[],e.taskListCodeFn(e.checkedTaskCode,"",""),e.chageTaskListId(e.checkedTaskListId),e.checkedTaskCode==e.taskStatusCodes.TOTAL_TASK||e.checkedTaskCode==e.taskStatusCodes.MY_DISTRIBUTION?e.checkedTaskListId=e.cloneClickLiskItem.taskId:e.checkedTaskListId="";e.cloneClickLiskItem.taskSwitching})):e.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"})})})},deleteTransacTorPeople:function(){var t=this;this.zysc_manageTaskHandler_operation({isDelete:1,memberId:this.defaultTaskDetailItem.taskDetailVO.taskManagerId,memberName:this.defaultTaskDetailItem.taskDetailVO.taskManagerName,taskId:this.defaultTaskDetailItem.taskDetailVO.taskId,zygsscId:this.defaultTaskDetailItem.taskDetailVO.zygsscId}).then(function(e){200==e.code?(t.$notify({title:"提示",message:e.message,type:"success",customClass:"dgg-tip-msg"}),t.$nextTick(function(){t.taskpage=1,t.taskListData=[],t.taskListCodeFn(t.checkedTaskCode,"",""),t.chageTaskListId(t.checkedTaskListId),t.checkedTaskCode==t.taskStatusCodes.TOTAL_TASK||t.checkedTaskCode==t.taskStatusCodes.MY_DISTRIBUTION?t.checkedTaskListId=t.cloneClickLiskItem.taskId:t.checkedTaskListId="";t.cloneClickLiskItem.taskSwitching})):t.$notify({message:e.message,type:"error",customClass:"dgg-tip-msg"})})},toAllData:function(t){var e=window.event||t;e.preventDefault(),e.stopPropagation(),this.taskProductList.length>0&&(this.upAllPop=!this.upAllPop)},Clickoutside:function(){this.upAllPop=!1},fileLoadError:function(){this.fileLoading=!1},docModalAffirm:function(){var t=(0,i.default)(s.default.mark(function t(){var e=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fileLoading=!0,t.next=3,this.$refs.uploadDoc.$refs["upload-inner"].manualUpload(function(){e.docModal=!1,e.fileLoading=!1,e.searchFilesFn()});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onSuccess:function(){var t=(0,i.default)(s.default.mark(function t(e,a){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.defaultTaskDetailItem.taskDetailVO){t.next=5;break}return i={code:"ZYGSSC_TASK_RECORD_OPT_5",id:this.defaultTaskDetailItem.taskDetailVO.zygsscId,name:a.name,taskId:this.defaultTaskDetailItem.taskDetailVO.taskId},t.next=4,this.genera_tetemplate(i);case 4:this.getTaskQueryInentory();case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),invalidDocumentRecords:function(){var t=(0,i.default)(s.default.mark(function t(e,a){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.defaultTaskDetailItem.taskDetailVO){t.next=5;break}return i={code:"ZYGSSC_TASK_RECORD_OPT_25",id:this.defaultTaskDetailItem.taskDetailVO.zygsscId,name:a.filename,taskId:this.defaultTaskDetailItem.taskDetailVO.taskId},t.next=4,this.genera_tetemplate(i);case 4:this.getTaskQueryInentory();case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()})}},EQGK:function(t,e,a){"use strict";a.r(e);var s=a("aYYE"),i=a("PxN8");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("LAq3"),a("sLJm");var o=a("ZrdR"),r=Object(o.a)(i.default,s.a,s.b,!1,null,"04c7cc48",null);r.options.__file="index.vue",e.default=r.exports},HV2y:function(t,e,a){},Kue0:function(t,e,a){},LAq3:function(t,e,a){"use strict";var s=a("Kue0");a.n(s).a},"PJW+":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.upAllPop?a("div",{directives:[{name:"Clickoutside",rawName:"v-Clickoutside",value:t.Clickoutside,expression:"Clickoutside"}],staticClass:"all-pop",style:{top:t.top,left:t.left}},[t.tabNames.length?a("div",{staticClass:"tab-top"},t._l(t.tabNames,function(e,s){return a("span",{key:s,class:t.currentTab==s?"this-btn":"",on:{click:function(e){return t.handleClick(s)}}},[t._v(t._s(e))])}),0):t._e(),t._v(" "),a("div",{staticClass:"dgg-order-search"},[a("dgg-input",{staticClass:"search-input",attrs:{placeholder:"请输入产品名称",maxlength:"30",clearable:""},on:{input:function(e){t.searchKey=t.searchKey.replace(/\s/g,"")},clear:t.productKewordsVal,blur:t.productKewordsVal},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur(e)}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[a("dgg-icon",{attrs:{slot:"prefix","icon-class":"dgg-search"},slot:"prefix"})],1)],1),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"infinite-list",staticStyle:{overflow:"auto"}},t._l(t.count,function(e,s){return a("li",{key:s,staticClass:"infinite-list-item",class:{"active-product-list":e.id==t.checkedProductId},on:{click:function(a){return t.chooseProductName(e)}}},[t._v("\n      "+t._s(e.productName)+"\n    ")])}),0)]):t._e()},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},PxN8:function(t,e,a){"use strict";a.r(e);var s=a("BA6A"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e.default=i.a},VCUL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(a("cLjf")),i=n(a("hDQ3"));a("8t5x");function n(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Bitmap",components:{},model:{prop:"upAllPop",event:"Clickoutside"},props:{upAllPop:{type:Boolean,default:function(){return!1}},tabNames:{type:Array,default:function(){return[]}},count:{type:Array,default:function(){return[]}},top:{type:String,default:function(){return"110px"}},left:{type:String,default:function(){return"50%"}},checkedProductId:{type:String,default:function(){return""}}},data:function(){return{searchKey:"",currentTab:0}},computed:{},watch:{},mounted:function(){var t=(0,i.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),activated:function(){},created:function(){},beforeDestroy:function(){},methods:{Clickoutside:function(){this.searchKey="",this.productKewordsVal(),this.$emit("Clickoutside")},load:function(){this.$emit("load")},handleClick:function(t){this.currentTab=t,this.$emit("handleClick",t)},chooseProductName:function(t){this.$emit("chooseProductNameFn",t)},productKewordsVal:function(){this.$emit("productKewordsVal",this.searchKey)}}}},"Y4/s":function(t,e,a){},aYYE:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task"},[a("div",{staticClass:"dgg-task-warp"},[a("div",{staticClass:"dgg-stage"},[a("div",{staticClass:"stage-content"},[t.taskList.length>0?a("ul",{staticClass:"stage-lists"},t._l(t.taskList,function(e,s){return a("li",{key:s,staticClass:"current-stage",class:{"active-stage":e.taskStatusCode==t.checkedTaskCode},on:{click:function(a){return a.stopPropagation(),t.searchTaskLsit(e.taskStatusCode)}}},[a("label",{domProps:{textContent:t._s(e.taskStatusName)}}),t._v(" "),a("span",[t._v("（"+t._s(e.taskAggregation)+"）")])])}),0):t._e(),t._v(" "),t.taskList.length<1?a("taskBitMap",{attrs:{synopsis:"暂无任务","svg-class":"icon_nostage","svg-width":"58px","svg-height":"41px"}}):t._e()],1)]),t._v(" "),a("div",{staticClass:"dgg-task"},[a("div",{staticClass:"dgg-order-search"},[a("dgg-input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"请输入任务名称搜索",maxlength:"30"},on:{input:function(e){t.searchKey=t.searchKey.replace(/\s/g,"")},clear:t.searchTaskKeyWords,blur:t.searchTaskKeyWords},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur(e)}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[a("dgg-icon",{attrs:{slot:"prefix","icon-class":"dgg-search"},slot:"prefix"})],1)],1),t._v(" "),a("div",{staticClass:"all-btn",on:{click:function(e){return t.toAllData(e)}}},[a("span",[t._v(t._s(t.showChooseProductName))]),t._v(" "),a("dgg-icon",{staticClass:"all-arrow",attrs:{"icon-class":"icon_extend","svg-width":"8px","svg-height":"8px"}})],1),t._v(" "),a("propComponent",{attrs:{"up-all-pop":t.upAllPop,count:t.taskProductList,checkedProductId:t.checkedProductId},on:{Clickoutside:function(e){t.upAllPop=!1},load:t.load,chooseProductNameFn:t.chooseProductNameFn,productKewordsVal:t.getProductVal}}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.taskloading,expression:"taskloading"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.dropdownTaskPage,expression:"dropdownTaskPage"}],staticClass:"task-content",attrs:{"infinite-scroll-disabled":!t.taskScrollPage}},[t.taskListData.length>0?a("dgg-row",{staticClass:"task-lists"},t._l(t.taskListData,function(e,s){return a("dgg-col",{key:s,staticClass:"current-list",class:{"active-current-list":e.taskId==t.checkedTaskListId},attrs:{span:24}},[a("div",{staticClass:"content",staticStyle:{position:"relative"}},[a("div",{staticStyle:{position:"absolute",left:"25px",top:"7px"}},[a("dgg-tooltip",{staticClass:"msg-dot",attrs:{value:t.showTips,"popper-options":t.popperOptions,content:1==e.taskSwitching?"激活任务":"完成任务",placement:"top",effect:"dark",disabled:t.isClickCheckStatus(e)}},[a("dgg-checkbox",{staticClass:"list-checkbox",attrs:{checked:0==e.taskSwitching,disabled:t.isClickCheckStatus(e)},on:{change:function(a){return t.stateChange(e)}},model:{value:1==e.taskSwitching,callback:function(a){t.$set(e,"taskSwitching == 1",a)},expression:"listItem.taskSwitching == 1"}})],1)],1),t._v(" "),a("div",{staticClass:"top-title",on:{click:function(a){return a.stopPropagation(),t.chageTaskListId(e)}}},[a("div",{staticClass:"list-group"},[a("div",{staticClass:"list-title"},[a("h6",{class:{deleteLine:1==e.taskSwitching}},[t._v("\n                      "+t._s(e.taskName)+"\n                    ")]),t._v(" "),1==e.aboutExpire&&"HEAD_TASK_ITEM_3"!=t.checkedTaskCode?a("dgg-tag",{staticClass:"due-tag"},[t._v("即将到期")]):t._e(),t._v(" "),1==e.taskOverTime&&"HEAD_TASK_ITEM_4"!=t.checkedTaskCode?a("dgg-tag",{staticClass:"overdue-tag"},[t._v("已超期")]):t._e(),t._v(" "),1==e.isKeyTask?a("dgg-tooltip",{staticClass:"msg-dot ml-20 list-des",attrs:{value:t.showTips,"popper-options":t.popperOptions,placement:"top",effect:"dark",content:"关键任务"}},[a("dgg-icon",{attrs:{"icon-class":"icon_star","svg-width":"14px","svg-height":"14px"}})],1):t._e()],1)]),t._v(" "),a("p",{staticClass:"list-des"},[t._v(t._s(e.orderStageMixName))])]),t._v(" "),e.userHeaderAddress?a("dgg-tooltip",{staticClass:"msg-dot ml-20",attrs:{value:t.showTips,"popper-options":t.popperOptions,content:e.taskManager,placement:"top",effect:"dark"}},[a("img",{staticClass:"headimg",attrs:{src:e.userHeaderAddress,alt:"",onerror:t.errorDefaultImg}})]):t._e()],1)])}),1):t._e(),t._v(" "),t.taskListData.length<1?a("taskBitMap",{attrs:{"show-btn":!1,synopsis:"没有搜索到相关结果"}}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"dgg-details"},[Object.keys(t.taskDetailData).length>0?a("div",{staticClass:"detail-oder-code"},[a("label",[t._v("生产订单编号：\n          "),a("dgg-tooltip",{staticClass:"msg-dot ",attrs:{value:t.showTips,"popper-options":t.popperOptions,content:t.taskDetailData.productOrderNo,placement:"top",effect:"dark",disabled:t.taskDetailData.productOrderNo.length<19}},[a("span",{on:{click:function(e){return t.toTranstionDetail(t.taskDetailData,t.taskDetailData.taskDetailVO.zygsscId)}}},[t._v("\n              "+t._s(t.taskDetailData.productOrderNo?t.taskDetailData.productOrderNo:"--")+"\n            ")])])],1),t._v(" "),a("label",[t._v("产品：\n          "),a("dgg-tooltip",{staticClass:"msg-dot",attrs:{value:t.showTips,"popper-options":t.popperOptions,content:t.taskDetailData.productName?t.taskDetailData.productName+"-":"",placement:"top",effect:"dark",disabled:((t.taskDetailData.orderName?t.taskDetailData.orderName+"-":"")+(t.taskDetailData.stageName?t.taskDetailData.stageName:"")).length<=22}},[a("b",[t._v("\n              "+t._s(t.taskDetailData.productName?t.taskDetailData.productName:"")+"\n            ")])])],1)]):t._e(),t._v(" "),Object.keys(t.taskDetailData).length>0?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.dropdownDetailQueryInventory,expression:"dropdownDetailQueryInventory"}],staticClass:"detail-content",attrs:{"infinite-scroll-disabled":t.queryinfiniteScrollFalg}},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[a("h6",[t._v("\n              "+t._s(t.taskDetailData.productName?t.taskDetailData.productName:"--")+"\n            ")])]),t._v(" "),a("div",{staticClass:"date"},[a("div",[a("span",[t._v("开始时间：")]),t._v(" "),a("span",{staticStyle:{"margin-left":"0"}},[t.taskDetailData.taskDetailVO.beginTime?[t._v(t._s(t._f("filteTime")(t.taskDetailData.taskDetailVO.beginTime)))]:[t._v("--")]],2)]),t._v(" "),a("div",{staticStyle:{"margin-left":"15px"}},[a("span",[t._v("完成时间：")]),t._v(" "),a("span",{staticStyle:{"margin-left":"0"}},[t.taskDetailData.taskDetailVO.complateTime?[t._v(t._s(t._f("filteTime")(t.taskDetailData.taskDetailVO.complateTime)))]:[t._v("--")]],2)]),t._v(" "),a("div",{staticStyle:{"margin-left":"15px"}},[a("span",[t._v("办理人：")]),t._v(" "),a("span",{staticStyle:{"margin-left":"0"}},[t._v("\n                "+t._s(t.taskDetailData.taskDetailVO.taskManagerName)+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"transactor transactor-people"},[a("dgg-icon",{attrs:{"icon-class":"icon_transactor","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("办理人")]),t._v(" "),t.taskDetailData.taskDetailVO.taskManagerId?a("span",{staticClass:"show-transactor-people"},[a("img",{attrs:{src:t.taskDetailData.taskDetailVO.addressHandlerPicture?t.taskDetailData.taskDetailVO.addressHandlerPicture:t.taskTransactorImg,onerror:t.errorDefaultImg,alt:""}}),t._v(" "),0!=t.taskDetailData.taskDetailVO.isCurrenUser||t.isClickDetails(t.taskDetailData.taskDetailVO)?t._e():a("dgg-icon",{attrs:{"icon-class":"dgg_delete",svgWidth:"14px",svgHeight:"14px"},on:{click:t.deleteTransacTorPeople}})],1):t._e(),t._v(" "),t.taskDetailData.taskDetailVO.taskManagerName?t._e():a("dgg-icon",{staticClass:"addTransactor",class:{"dgg-not-allowed":t.isClickDetails(t.taskDetailData.taskDetailVO)},attrs:{"icon-class":"dgg_add","svg-width":"18px","svg-height":"18px"},on:{click:function(e){0==t.taskDetailData.taskDetailVO.isCurrenUser&&t.isClickDetails(t.taskDetailData.taskDetailVO)&&t.addTransactor(e)}}}),t._v(" "),a("transactorProp",{attrs:{"up-all-pop":t.toTransactor,top:"36px",left:"50%","tab-names":t.tabNames,count:t.transactorData,currentTab:t.storeFlagUser,chooseStoreId:t.thisCheckedStoreId,thisStoreRealName:t.thisStoreRealName,thisStorePhone:t.thisStorePhone},on:{Clickoutside:t.closeStoreProp,changeStoreFlagUser:t.changeStoreFlagUser,storeKeyWordsFn:t.storeKeyWordsFn,clearNamePhone:t.clearNamePhone,chooseStoreDataFn:t.chooseStoreDataFn,load:t.load}})],1),t._v(" "),a("div",{staticClass:"transactor "},[a("dgg-icon",{attrs:{"icon-class":"icon_deadline","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("开始时间")]),t._v(" "),a("span",{staticClass:"format-end-time"},[t.taskDetailData.taskDetailVO.beginTime?[t._v(t._s(t._f("filteTime")(t.taskDetailData.taskDetailVO.beginTime)))]:[t._v("--")]],2)],1),t._v(" "),a("div",{staticClass:"transactor "},[a("dgg-icon",{attrs:{"icon-class":"icon_deadline","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("截止时间")]),t._v(" "),a("span",{staticClass:"format-end-time"},[t.taskDetailData.taskDetailVO.deadLine?[t._v(t._s(t._f("filteTime")(t.taskDetailData.taskDetailVO.deadLine)))]:[t._v("--")]],2)],1),t._v(" "),a("div",{staticClass:"transactor"},[a("dgg-icon",{attrs:{"icon-class":"icon_remind","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("提醒")]),t._v(" "),a("dgg-button",{staticClass:"brabBill-button brabBill-button2",attrs:{"dgg-icon":t.isClickDetails(t.taskDetailData.taskDetailVO)?"dgg-plus":"icon_plus2",disabled:t.isClickDetails(t.taskDetailData.taskDetailVO)},on:{click:function(e){t.showAddRemind=!t.showAddRemind}}},[t._v("添加\n          ")])],1),t._v(" "),t.taskDetailData.taskDetailVO.taskRemindList.length>0?t._l(t.taskDetailData.taskDetailVO.taskRemindList,function(e,s){return a("div",{key:s,staticClass:"transactor transactor-remind"},[a("dgg-form",{staticClass:"remind-form"},[a("dgg-row",{attrs:{gutter:10}},[a("dgg-col",{attrs:{span:12}},[a("dgg-select",{attrs:{disabled:""},model:{value:e.reminderConditionName,callback:function(a){t.$set(e,"reminderConditionName",a)},expression:"item.reminderConditionName"}},[a("dgg-option",{attrs:{label:e.reminderConditionName,value:e.reminderConditionName}})],1)],1),t._v(" "),a("dgg-col",{attrs:{span:12}},[a("dgg-select",{attrs:{disabled:t.isClickDetails(t.taskDetailData.taskDetailVO)},on:{change:function(a){return t.changeRemidItem(e)}},model:{value:e.reminderValue,callback:function(a){t.$set(e,"reminderValue",a)},expression:"item.reminderValue"}},t._l(t.allRemindTimesData,function(t,s){return a("dgg-option",{key:s,attrs:{label:t.name,value:t.name+":"+t.code,disabled:t.name==e.reminderValue}})}),1)],1)],1)],1),t._v(" "),t.isClickDetails(t.taskDetailData.taskDetailVO)?t._e():a("dgg-icon",{staticClass:"remindDelete",attrs:{"icon-class":"dgg_delete","svg-width":"16px","svg-height":"16px"},on:{click:function(a){return t.remindDelete(e)}}})],1)}):t._e(),t._v(" "),t.showAddRemind?a("div",{staticClass:"transactor transactor-remind"},[a("dgg-form",{staticClass:"remind-form"},[a("dgg-row",{attrs:{gutter:10}},[a("dgg-col",{attrs:{span:12}},[a("dgg-select",{attrs:{disabled:""},model:{value:t.defulutTimeKey,callback:function(e){t.defulutTimeKey=e},expression:"defulutTimeKey"}},[a("dgg-option",{attrs:{label:t.defulutTimeKey,value:t.defulutTimeKey}})],1)],1),t._v(" "),a("dgg-col",{attrs:{span:12}},[a("dgg-select",{on:{change:t.addRemidItem},model:{value:t.addReminderTime,callback:function(e){t.addReminderTime=e},expression:"addReminderTime"}},t._l(t.allRemindTimesData,function(e,s){return a("dgg-option",{key:s,attrs:{label:e.name,value:e.name+":"+e.code,disabled:t.choosedTimeReminderTime.includes(e.name)}})}),1)],1)],1)],1)],1):t._e(),t._v(" "),t.taskDetailData.taskDetailVO?a("div",{staticClass:"transactor "},[a("dgg-icon",{attrs:{"icon-class":"icon_explain","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type task-misson-statement"},[t._v("任务说明 ")]),t._v(" "),a("dgg-button",{staticClass:"brabBill-button  brabBill-button2",attrs:{"dgg-icon":"icon_edit1",disabled:t.isClickDetails(t.taskDetailData.taskDetailVO)},on:{click:function(e){return t.showTaskMissonContentView(t.taskDetailData.taskDetailVO.taskExplain)}}},[t._v("编辑\n          ")])],1):t._e(),t._v(" "),t.showTaskMissonContent?a("div",{staticClass:"add-transactor add-task-misson"},[a("dgg-input",{ref:"editTaskMissonContentVal",staticClass:"remarksTextArea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:15},placeholder:"请输入任务描述",maxlength:"1000",oninput:"if(value.length>1000)value=value.slice(0,1000)"},on:{blur:function(e){return t.addtaskKewordsVal(t.taskMissonContent)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur(e)}},model:{value:t.taskMissonContent,callback:function(e){t.taskMissonContent=e},expression:"taskMissonContent"}})],1):t._e(),t._v(" "),t.taskDetailData.taskDetailVO.taskExplain&&!t.showTaskMissonContent?a("div",{staticClass:"task-explain-text"},[a("div",{staticClass:"explain-content",style:{"max-height":t.taskExplainHeight},domProps:{textContent:t._s(t.taskDetailData.taskDetailVO.taskExplain?t.taskDetailData.taskDetailVO.taskExplain:"")}}),t._v(" "),t.GetLength(t.taskDetailData.taskDetailVO.taskExplain)>140?a("dgg-button",{staticClass:"brabBill-button",attrs:{"dgg-icon":t.iconType,"el-icon--right":""},on:{click:t.changeTaskExplainHight}},[t._v(t._s(t.btnName)+"\n          ")]):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"transactor "},[a("dgg-icon",{attrs:{"icon-class":"icon_enclosure","svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("附件")]),t._v(" "),a("dgg-button",{staticClass:"brabBill-button  brabBill-button2",attrs:{"dgg-icon":t.isClickDetails(t.taskDetailData.taskDetailVO)?"dgg-plus":"icon_plus2",disabled:t.isClickDetails(t.taskDetailData.taskDetailVO)},on:{click:function(e){t.docModal=!0}}},[t._v("添加")])],1),t._v(" "),t.DetailDocumentfileLists.length>0?a("div",{staticClass:"show-detail-filesList"},[a("ul",t._l(t.DetailDocumentfileLists,function(e,s){return a("li",{key:s},[a("div",{staticClass:"icon-name"},[a("dgg-icon",{attrs:{"icon-class":t.getIconByType(e),"svg-width":"16px","svg-height":"16px"}}),t._v(" "),a("p",[t._v("\n                  "+t._s(e.filename?e.filename:"--")+"\n                ")])],1),t._v(" "),a("div",{staticClass:"dgg-button-group"},["pdf"==t.getDocumentType(e)||t.imageTypes.includes(t.getDocumentType(e))?a("dgg-button",{staticClass:"brabBill-button brabBill-button2",on:{click:function(a){t.viewDocument(e,t.getDocumentType(e))}}},[t._v("查看\n                ")]):t._e(),t._v(" "),a("dgg-button",{staticClass:"brabBill-button brabBill-button2",on:{click:function(a){return t.downloadDocument(e)}}},[t._v("下载\n                ")]),t._v(" "),a("dgg-button",{class:["brabBill-button","brabBill-button2",{"braBill-button-disabled":t.isClickDetails(t.taskDetailData.taskDetailVO)}],on:{click:function(a){t.isClickDetails(t.taskDetailData.taskDetailVO)&&t.invalidDocument(e)}}},[t._v("作废\n                ")])],1)])}),0)]):t._e(),t._v(" "),a("div",{staticClass:"remarks"},[a("div",{staticClass:"transactor "},[a("dgg-icon",{attrs:{"icon-class":"icon_edit1","svg-width":"14px","svg-height":"14px"}}),t._v(" "),a("span",{staticClass:"transactor-type"},[t._v("备注")])],1),t._v(" "),a("dgg-input",{staticClass:"remarksTextArea",attrs:{type:"textarea",maxlength:"1000",oninput:"if(value.length>1000)value=value.slice(0,1000)",disabled:t.isClickDetails(t.taskDetailData.taskDetailVO)},on:{blur:function(e){return t.saveFormatRemarksTextArea(t.remarksTextArea)}},model:{value:t.remarksTextArea,callback:function(e){t.remarksTextArea=e},expression:"remarksTextArea"}}),t._v(" "),a("dgg-button",{staticClass:"sava-remarks",class:{"active-save-remarks":t.remarksTextArea.length>0},attrs:{disabled:t.remarksTextArea.length<1,loading:t.saveLodading},on:{click:t.saveRemarksFn}},[t._v("保存")]),t._v(" "),a("dgg-radio-group",{attrs:{"active-data":t.activeRadioData,"is-button":!0,"radio-array":t.radioArray,space:20},on:{change:t.changeRadioVal}}),t._v(" "),t.recordListData.length>0?a("ul",{staticClass:"record-lists"},t._l(t.recordListData,function(e,s){return a("li",{key:s,staticClass:"current-list"},[a("img",{staticClass:"headimg",attrs:{src:e.createrPictureUrl?e.createrPictureUrl:t.userInfoSrc,alt:"",onerror:t.errorDefaultImg}}),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"name-date"},[a("span",{staticClass:"name"},[t._v(t._s(e.createrName?e.createrName:"--"))]),e.createTime?a("span",{staticClass:"date"},[t._v(t._s(t._f("filteTime")(e.createTime)))]):t._e()]),t._v(" "),a("p",{staticClass:"desc"},[t._v("\n                  "+t._s(e.remarkContent?e.remarkContent:"--")+"\n                ")])])])}),0):t._e(),t._v(" "),t.recordListData.length<1?a("taskBitMap",{staticStyle:{"margin-top":"20px"},attrs:{synopsis:"暂无数据"}}):t._e()],1)],2):t._e(),t._v(" "),a("dgg-modal",{staticClass:"document-upload-modal",attrs:{modal:t.docModal,hasmodal:!0,"close-on-click-modal":!1,loading:t.fileLoading,title:"上传附件",width:"512px"},on:{closeQuit:t.closeModal,modalQuit:function(e){t.docModal=!1},modalAffirm:t.docModalAffirm}},[t.docModal?a("dgg-upload-doc",{ref:"uploadDoc",staticClass:"document-upload-demo",attrs:{limit:50,"auto-upload":!1,data:t.uploadparams,"file-list":t.fileList,"accept-type":t.acceptType,"list-url":t.listUrl,"del-url":t.deleteUrl,action:t.uploadUrl,onSuccess:t.onSuccess,onError:t.fileLoadError,multiple:""}},[a("dgg-button",{staticClass:"receive-button",staticStyle:{width:"100px"},attrs:{type:"primary"}},[t._v("\n            上传文件\n          ")])],1):t._e()],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.imageView,expression:"imageView"}],staticClass:"img-handle-item"},[a("el-image",{ref:"imageViewRef",staticStyle:{width:"0",height:"0"},attrs:{src:t.imageUrl,"preview-src-list":t.showImgList}})],1),t._v(" "),Object.keys(t.taskDetailData).length<1?a("taskBitMap",{attrs:{synopsis:"暂无任务详情"}}):t._e()],1)]),t._v(" "),t._e(),t._v(" "),t._e()])},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},iNDL:function(t,e,a){"use strict";a.r(e);var s=a("PJW+"),i=a("oaYT");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("vhSk");var o=a("ZrdR"),r=Object(o.a)(i.default,s.a,s.b,!1,null,null,null);r.options.__file="propComponent.vue",e.default=r.exports},nPxU:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAYAAABznEEcAAALu0lEQVRoQ8VaC3BU1Rn+/rt3H9kkbEJ45AlEKFBeBYGOSOUhaMGOgLUPhYIyvio4SkURtFNMbQ1isUoLyNTyVNC2MyJ2iuJEQApKiRItSLACApvNA807m+zjntM55+69+yYbDMMdmE3uvec/5/v///v+/5wNoRuu8vJya17R4PGcs8kcfDg4DQFRPnGeyQEnAV5O1ALOPSB+ikAniJQD1Re+ODpu3LjAt10CXa4Bzrly3tM0zaLQfBCfwzkyu2qLCC3gtEtjfHu/fFcZEbGu2hDvdxkE51ytqmmey8FXABh6OZMmGVNJoNKC3B47iCjYFbtdAnHe0zCJiNYBGNGVSbr47nGLRVmU36fHwVTHpQSCc26vqmt+gTP+4OVEL9XFRLzHSaENBX16PEpEvs7GdwribHXDAJXTmyCM7sxYtz/nqAgSv604L/urS9m+JIgLtfWjwC17wHl+ty8wVYNEHpA2s6hvz8+SDUkKQgJgyn4A2anOdwXfa4DCpiQDkhCETCFSDl3VCMR6hMgT5GxiotSKA3H27FmHas/+8KpwoLNQclQU5rmuiyV7HAh3bdM6zviizuxdreek0PrCvq7FkfNHgQjVAcGDTlXraoEAwC0WZXJkHTEXKyqxu6bp2BUuZN2F/XhhrmuMUdlNEO7qpgUcfGt3zXKl7RDorsI81zazdxLNnLum6UQ390JXGkdlYa5ruGgaZSTOVTXepCjYe6Vn7W77jOHm/gVZ70kQ7uqmbRx8fqqTfHasHFowiJGjx0K1WlMdlvC9trZW/Gn1M/jo4H5cP+lGLHu6NGV7BNpemOdaQGJDk1s46JtU9wM7t/4FG19cLScq7DcAq9dtQn5hUcoTx7741JJf4tCBMnl7zs/mYcmKp1O2JfYjNe4vc6iqtvl6xtihVEee+d8pvPLnP+LIof3QNA0zZv0Yy0ueS3V41Hucc0wbNxRpznQsWbESN90yu8t2FEWZSO6a5hWcs2c7G00i8bj8J6+G+m/w/jv/hNVmw6yf3NnZ8KTPd2zeiGkzbkXfvHxYFEKa3QJVVeTPjHMEghoCGoffz8CNySOsEeFJulDT9Co4nxc7i6IQnA4VDpsF4mfhNWFUYxw+v4YOn5bQ6OWiyXRakeZQ5XAxjzFf5GeHjyEQiEFC/DW6UN10FODjIid32C3IdNogvR+6Io0JM4xxeDuC8UYvA0V2DzusqmKONEAkAhIIcvh8kUCoXESiKrJbFd7PcMYrThQIERWRXZyj3ach4E8Q5xTBuDJssNssUc4S1gKBAIQXicJZoDuPwe/nCBq7cCIPuasbmzn0kwrhDeGV2OucxwNPbR1y+/RGUW6uCcAA5vVqYJdxTpFsvsPHKrDs+T8gGAxi/MiRWPSLuRhQUKCnWSgLOtrFhCSavBa6UN0oMElXxIZV3PP5/dj+1m68/PobEtvo7w7FyoceQp9eOdIrwmhQ49CNdu2KjUJ7Rwccdru0ueavm/DGv/bIaDgdDmz4bQmKiwpNvojoh6KhmZEQapCT5TBX0eHzw9vRjp4ul7x3/azZ8CkKyKLKaGxZvQo2m02mlPjv9SZWj+SwOHpnO03eBTUNv3lpLX635BG58Pk//ykqPv4YtgHXwJLVE+NHjcSaFctNEMJxAZ9st1tMTsRy4W973kFdfT0Wz70Tb+/ejeUPLwZUFY4hI6CkpeGxexZi9vTp0msGN043teDz5kbUCvAZdgQ4Q1AoWgiJDD4RFCIUOzIwq3+4SJ48fRrzly1HcZ/euPjZJ6hzu/VRqgrn6PFQFAXvbdkMi0XRU4pz+NpFRpHHVKf0NBXpaWFC//qltXjng4PQ3Ofhq6kyHar2zoWtfzFmTLoBTy160JTCdZUnsfr4f+V7aVYLhuRnQuMETgRN1heSXBL/NRAyVCv2T5hu2q2orMTSVavhbahHU0V5OICkIO3a8SBS8O6WTbBbrSYvfB3yNaFODa+C07xYEM+s34C3yt6H330eGT4vgoEgWltbYM0rgLWgH2ZNuxGP33evCWLt5yew5nPRCAPZ6Tb0y3GCkShYYuECgAFC/wQnlE+aYS5W8MFqteHTU5W4+847oDXWy2fW/CJY8wsxsF8/bFr1bAgAk0LiFydSok4YFVtUysx0m2m07KOP8MTza2ABx75tW1FbW4NbZ90K+8AhIFVF6WOP4gfjxpkgVnxcjh1nz8jxRT2d6JlpNyMg0klEwvzkkFV447CxmNC3bxQPX929Gy/vfB3M2wZYLFAcafL5qseXYsKYMWb6iqIX1FX4SbN3EoWtd7Y+QDqKczzy+1IcPnYMpUsfxcX6eryweYt8NvHaa/Hcssd0Uofy83u7d6HR75dEHVHoAikKGA+nUGwkggyYas/Ci9dNiJrzlb//A1ve3CVVUVyuzEw8ctd8TJ840RQRyYcOISgkuDIxqouNlTx/IABhdFdZGeobm6RSzZ42DXfffhssFoseBQBvnz+PxUc+lJP2yrChsGc6xE4lnErhlJLR4ASNgBpPPd6/eSaGZYePtoTNVq8XJ0+fgaqqGFw8QH6aVVwWQoaAX0ZB72LFxMZ+QvRIOS67rJKRlzDsCwSkMUNSDaPNgQBu3vsu3N42WIgwrKAHFIvgQjwPzGiEIlTf0IresGDvjJnIsevybnYGET1UZLdwsrER6099gdLhY6GQou8nxMDInd3xthpMKugPVQn3MlJGGYur1D5Nw4KDB/Dvujq5gGt6OeFKt+kk5roKyXSLJLV5n+ALBlFXXY/ijExsmzwZw7KywykaKqSRzeCBmmrcf/gwvFoQC4oH44nBo8I7O2OP/WmzZ+hOzzEUOLNw/3e+j6L0HqZ3jNw3InGyqRG/OnIEnzbUy/Od/jlpsjZIGQ152iBzNB8MxdLBNTe3obWpDcJlcwcOwryBgzA2J8dUITHvu1Vu7DxzGns9nogE4ZVLz7mHl5SU6HtscX1yzr1g7dmDW0WBEgOFto/MKkJ/Zy9M6N0XeU4nvmppwdGvL+I9jwe7z5+T76VZFRTnOOG0q2YdMEDokdBVSSxY2g2BjLzf3NCC9lavuUC7osAlugEA9T4ftAQbCc75XW333Bc+7RCjp+xbqRZgyDGAj9C9rk/crnFUtWmobQuixc/kfYsCZDtU5KTbkOUUi4/IfxEFSepYZQr9bt6PrhvtXh+8jc1gWko92PHWcxfGoKRE9rJRDJ5b9tokKNjPOSi6UIXzOii7brHQyEIWn/cCWFx9MJQplifG7xzwt/vg7/CB+QNgosOLj4KQxCmt9977gRG6uOPKeft3rGOML4onpU5Ug7RGnkflvYhewiodAmlW79gqbjyPbk1kqyLHAKyxEaytTejq+taF9yQ/ixXI7t632dEO24ccNDpe5yPTJDodzJQKLVTnQXSlltEJ9VHG88Skj7YtwHC/D1pdXUVrbvt1uOXhqK/AEh4c37Fv5wDG+SEG5Bvk1Bu30KKS9EN6g5e8XwrzJIEDkkiymD90eTqqqid2LFwY99VX0tPv2z/YMYo02q9xZMfqfGwLkey5nn4R0QiROlq1IvgURfowUHG4Qgqf0jB9ZsKvvC55hC+AaEFlDwfyZSREax3ydiRpoytxkn4pTpVieJH8uYcUPjMZgDh1iuo1Qr/MkalFbzJgtEyHKPnUiW4AMkkYEoCo9JMbfkMcwtGJFYoYjlRwjd/WOHPm5X97aoCasm+zI5Oca4KMHhTy2xVSmjyJ4kpiSY54lzPChm/UmqWYulDf+lzi6tI3QreUvTFJI1rHOEZEeizS4+EdXPT+wdjhJeRThFBwwnHG+OKLP/yRWQe6FYRe2fepKv96LuNYwYChsZ1pnGSGpDaxMhlVXEamkhGV1qhpOzB16pX7244oj6xcqUy+Yfg0KJb5GjCHMWSKQhdbB2QxDHk6tiEUfz7EOO0KMmz3HP5PGUpKUuo5YiPTpXRKFtaxGzdabYP6jmfEJzPQcM4wRBOKRsjkHE4N5GWgFgZ4GOgUB04EiA6c+7LqKB544Fv/vdP/AQoVF+S66Lc1AAAAAElFTkSuQmCC"},oaYT:function(t,e,a){"use strict";a.r(e);var s=a("VCUL"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e.default=i.a},sLJm:function(t,e,a){"use strict";var s=a("Y4/s");a.n(s).a},vhSk:function(t,e,a){"use strict";var s=a("HV2y");a.n(s).a}}]);