(window.webpackJsonp=window.webpackJsonp||[]).push([["login"],{"/Tbr":function(e,t,r){"use strict";var s=r("1YW3");r.n(s).a},"1YW3":function(e,t,r){},"4Ht4":function(e,t,r){"use strict";var s=r("89Ps");r.n(s).a},"7vqc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(r("bS4n")),n=l(r("cLjf")),o=l(r("hDQ3")),i=l(r("p6p6")),a=l(r("DsP1")),c=l(r("J+lr")),u=r("8t5x");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"login",components:{loginComp:i.default,registerComp:a.default},data:function(){return{imgs:[]}},computed:{reload:function(){return sessionStorage.getItem("reload")}},created:function(){},mounted:function(){var e=(0,o.default)(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"true"===this.reload&&(sessionStorage.setItem("reload","false"),location.reload()),(t=this.$route.params.notice)&&c.default.error(t),e.next=5,this.get_adv();case 5:200===(r=e.sent).code&&(this.imgs=r.data);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:(0,s.default)({},(0,u.mapActions)("loginModule",["get_adv"]))}},"89Ps":function(e,t,r){},Bi6i:function(e,t,r){"use strict";var s=r("P7gm");r.n(s).a},DsP1:function(e,t,r){"use strict";r.r(t);var s=r("VcpS"),n=r("jd/E");for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);r("/Tbr");var i=r("ZrdR"),a=Object(i.a)(n.default,s.a,s.b,!1,null,"0f75b742",null);a.options.__file="registerComp.vue",t.default=a.exports},DstP:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isRegister?e._e():r("div",{staticClass:"tab",style:{height:"account"===e.type?"340px":"328px"}},[r("div",{staticClass:"title"},[r("span",{class:{active:"account"===e.type,native:"account"!==e.type},on:{click:function(t){return e.changeTab("account")}}},[e._v("账号密码登录")]),e._v(" "),r("span",{class:{active:"code"===e.type,native:"code"!==e.type},on:{click:function(t){return e.changeTab("code")}}},[e._v("手机快捷登录")])]),e._v(" "),r("dgg-form",{ref:"form",attrs:{rules:e.rules,model:e.form}},["account"===e.type?r("dgg-form-item",{staticClass:"margin-top-32",attrs:{prop:"account"}},[r("dgg-input",{attrs:{placeholder:"输入手机号码",maxlength:"11",clearable:"",type:"tel"},on:{input:function(t){e.form.account=e.form.account.replace(/[^\d]/g,"")}},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1):e._e(),e._v(" "),"account"===e.type?r("dgg-form-item",{staticClass:"margin-top-20",attrs:{prop:"password"}},[r("dgg-input",{attrs:{type:"password",placeholder:"输入密码",maxlength:"15"},on:{input:function(t){e.form.password=e.form.password.replace(/\s+/g,"")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginEvent(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),e._v(" "),"code"===e.type?r("dgg-form-item",{staticClass:"margin-top-32",attrs:{prop:"phoneNum"}},[r("dgg-input",{ref:"loginPhone",attrs:{placeholder:"输入手机号码",maxlength:"11",clearable:"",type:"tel"},on:{input:function(t){e.form.phoneNum=e.form.phoneNum.replace(/[^\d]/g,"")}},model:{value:e.form.phoneNum,callback:function(t){e.$set(e.form,"phoneNum",t)},expression:"form.phoneNum"}})],1):e._e(),e._v(" "),"code"===e.type?r("dgg-form-item",{staticClass:"margin-top-20",attrs:{prop:"code"}},[r("dgg-input",{staticClass:"relative",attrs:{placeholder:"输入验证码",maxlength:"6"},on:{input:function(t){e.form.code=e.form.code.replace(/[\u4E00-\u9FA5]+/,""),e.form.code=e.form.code.replace(/\s+/g,"")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginEvent(t)}},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),r("span",{staticClass:"get_code",style:{left:e.getCodeLeft,color:e.getCodeColor},on:{click:e.getCode}},[e._v(e._s(e.codeBtnText))])],1):e._e(),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-30"},[r("dgg-button",{staticClass:"loginBtn",class:{disable:e.btnDisabled,color10BBB8:!e.btnDisabled},attrs:{disabled:e.btnDisabled,type:"primary",loading:e.loginLoding},on:{click:e.loginEvent}},[e._v("登录")])],1),e._v(" "),"account"==e.type?r("dgg-form-item",{staticClass:"font-size-13 margin-top-20"},[r("div",{staticClass:"line-height-1 text-align-right"},[r("a",{staticClass:"cursor-pointer color-9398A1",on:{click:e.forgetPassword}},[e._v("忘记密码")])])]):e._e()],1),e._v(" "),r("div",{staticClass:"register_btn",style:{marginTop:"account"===e.type?"20px":"40px"},on:{click:function(t){e.isRegister=!0}}},[r("div",[e._v("\n        立即注册\n      ")])])],1),e._v(" "),e.isRegister?r("registerComp",{on:{childFn:e.parentFn}}):e._e()],1)},n=[];r.d(t,"a",function(){return s}),r.d(t,"b",function(){return n})},FaQF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(r("cLjf")),n=a(r("hDQ3")),o=a(r("bS4n")),i=r("8t5x");a(r("J+lr"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"registerComp",props:{},components:{},data:function(){return{registerForm:{phoneNum:"",password:"",code:""},rules:{phoneNum:[{required:!0,message:"请输入手机号码",trigger:"blur"},{message:"请输入正确的手机号",trigger:"blur",pattern:/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度为6-15位数字/字母/字符",trigger:"blur"},{message:"密码必须为包含数字字母的6到15位字符串",trigger:"blur",pattern:/^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,15}$/}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入6位验证码",trigger:"blur"}]},agreement:!1,codeBtnText:"获取验证码",getCodeColor:"#10BBB8",getCodeLeft:"189px",passwordType:"password",passwordIcon:"icon_view",registerClickTime:0,registerEventWait:!1}},computed:{btnDisabled:function(){return!/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i.test(this.registerForm.phoneNum)||(!/^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,15}$/.test(this.registerForm.password)||(this.registerForm.password.length<6||this.registerForm.password.length>15||(6!==this.registerForm.code.length||(!this.agreement||this.registerEventWait))))}},mounted:function(){},methods:(0,o.default)({},(0,i.mapActions)(["ruoterJump","get_code","register"]),{registerEvent:function(){var e=(0,n.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((new Date).getTime()-this.registerClickTime>2e3)){e.next=15;break}if(this.btnDisabled){e.next=12;break}return this.registerClickTime=(new Date).getTime(),this.registerEventWait=!0,t={phone:this.registerForm.phoneNum,verificationCode:this.registerForm.code,pdw:this.registerForm.password,deviceType:3,source:"WEB"},e.next=7,this.register(t);case 7:200===(r=e.sent).code?(this.$message.success("注册成功，请登录"),this.$emit("childFn",!1)):this.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"}),this.registerEventWait=!1,e.next=13;break;case 12:return e.abrupt("return",!1);case 13:e.next=15;break;case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),routerJumpAgreement:function(){window.open(window.location.origin+"/#/agreement")},showPassword:function(){"password"===this.passwordType?(this.passwordType="text",this.passwordIcon="icon_hidden"):(this.passwordType="password",this.passwordIcon="icon_view")},parentFun:function(e){this.$emit("childFn",e)},getCode:function(){var e=(0,n.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("获取验证码"!==this.codeBtnText){e.next=10;break}if(/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i.test(this.registerForm.phoneNum)){e.next=5;break}return this.$refs.phoneInput.focus(),this.$refs.phoneInput.blur(),e.abrupt("return",!1);case 5:return t={type:"register",phone:this.registerForm.phoneNum},e.next=8,this.get_code(t);case 8:200===(r=e.sent).code?(this.codeBtnText="重新获取(60s)",this.getCodeColor="#9398A1",this.getCodeLeft="170px",this.setCodeBtnText(60),this.$message.success("验证码发送成功")):this.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setCodeBtnText:function(e){var t=this;setTimeout(function(){0===--e?(t.getCodeLeft="189px",t.getCodeColor="#10BBB8",t.codeBtnText="获取验证码"):(t.codeBtnText="重新获取("+e+"s)",t.setCodeBtnText(e))},1e3)}})}},Fg6j:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=c(r("cLjf")),n=c(r("hDQ3")),o=c(r("bS4n")),i=c(r("DsP1")),a=r("8t5x");function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"loginComp",components:{registerComp:i.default},props:{loginType:{type:String,default:"account"},tabType:{type:Boolean,default:!1}},data:function(){return{loginLoding:!1,form:{phoneNum:"",password:"",account:"",code:""},type:"account",isRegister:"",codeBtnText:"获取验证码",getCodeLeft:"189px",getCodeColor:"#10BBB8",rules:{phoneNum:[{required:!0,message:"请输入手机号码",trigger:"blur"},{message:"请输入正确的手机号",trigger:"blur",pattern:/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],account:[{required:!0,message:"请输入账号",trigger:"blur"},{message:"请输入正确的手机号",trigger:"blur",pattern:/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入6位验证码",trigger:"blur"}]}}},watch:{isRegister:function(e){e&&(this.form={phoneNum:"",password:"",account:"",code:""})}},computed:{btnDisabled:function(){if("account"===this.type){if(!/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i.test(this.form.account))return!0;if(this.form.password.length<6)return!0}else{if(!/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i.test(this.form.phoneNum))return!0;if(6!==this.form.code.length)return!0}return!1}},mounted:function(){this.type=this.loginType,this.isRegister=this.tabType},methods:(0,o.default)({},(0,a.mapActions)(["ruoterJump","login","get_code","updatePersonMsg"]),{parentFn:function(e){this.isRegister=e},changeTab:function(e){this.loginLoding=!1,this.type=e,this.resetForm("form")},getCode:function(){var e=(0,n.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("获取验证码"!==this.codeBtnText){e.next=11;break}if(/^0?(13|14|15|16|17|18|19)[0-9]{9}$/i.test(this.form.phoneNum)){e.next=5;break}return this.$refs.loginPhone.focus(),this.$refs.loginPhone.blur(),e.abrupt("return",!1);case 5:return t={type:"loginCheck",phone:this.form.phoneNum},this.codeBtnText="获取中",e.next=9,this.get_code(t);case 9:200===(r=e.sent).code?(this.codeBtnText="重新获取(60s)",this.getCodeColor="#9398A1",this.getCodeLeft="170px",this.setCodeBtnText(60),this.$message.success("验证码发送成功")):(this.codeBtnText="获取验证码",this.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"}));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setCodeBtnText:function(e){var t=this;setTimeout(function(){0===--e?(t.getCodeLeft="189px",t.getCodeColor="#10BBB8",t.codeBtnText="获取验证码"):(t.codeBtnText="重新获取("+e+"s)",t.setCodeBtnText(e))},1e3)},resetForm:function(e){this.form={phoneNum:"",password:"",account:"",code:""},this.$refs[e].resetFields()},loginEvent:function(){var e=(0,n.default)(s.default.mark(function e(){var t,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.btnDisabled){e.next=9;break}return t={loginType:"account"===this.type?"phone_pwd":"phone_verify",source:"WEB",params:{acount:"account"===this.type?this.form.account:this.form.phoneNum,pwd:"account"===this.type?this.form.password:this.form.code}},this.loginLoding=!0,e.next=5,this.login(t);case 5:200===(r=e.sent).code?(this.loginLoding=!1,this.ruoterJump({name:"loading"})):(this.loginLoding=!1,this.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"})),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),forgetPassword:function(){this.ruoterJump({name:"resetPassword"})}})}},P7gm:function(e,t,r){},U5XC:function(e,t,r){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return"true"!==this.reload?t("div",{staticClass:"login-content"},[t("el-carousel",{staticClass:"img-tab",attrs:{interval:3e3,"indicator-position":"none"}},this._l(this.imgs,function(e,r){return t("el-carousel-item",{key:r},[t("img",{attrs:{src:e.imgUrl,alt:""}})])}),1),this._v(" "),t("loginComp")],1):this._e()},n=[];r.d(t,"a",function(){return s}),r.d(t,"b",function(){return n})},VcpS:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"registerTab"},[r("div",{staticClass:"title"},[e._v("\n    手机注册\n  ")]),e._v(" "),r("dgg-form",{ref:"registerForm",attrs:{rules:e.rules,model:e.registerForm}},[r("dgg-form-item",{staticClass:"margin-top-32",attrs:{prop:"phoneNum"}},[r("dgg-input",{ref:"phoneInput",attrs:{placeholder:"输入手机号码",maxlength:"11",clearable:"",type:"tel"},on:{input:function(t){e.registerForm.phoneNum=e.registerForm.phoneNum.replace(/[^\d]/g,"")}},model:{value:e.registerForm.phoneNum,callback:function(t){e.$set(e.registerForm,"phoneNum",t)},expression:"registerForm.phoneNum"}})],1),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-20",attrs:{prop:"code"}},[r("dgg-input",{staticClass:"relative",attrs:{maxlength:"6",placeholder:"输入验证码"},on:{input:function(t){e.registerForm.code=e.registerForm.code.replace(/[\u4E00-\u9FA5]+/,""),e.registerForm.code=e.registerForm.code.replace(/\s+/g,"")}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}}),e._v(" "),r("span",{staticClass:"get_code",style:{left:e.getCodeLeft,color:e.getCodeColor},on:{click:e.getCode}},[e._v(e._s(e.codeBtnText))])],1),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-20",attrs:{prop:"password"}},[r("dgg-input",{staticClass:"relative",attrs:{type:e.passwordType,maxlength:"15",placeholder:"输入密码（6-15位数字/字母/字符）"},on:{input:function(t){e.registerForm.password=e.registerForm.password.replace(/\s+/g,"")}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e._v(" "),e.registerForm.password.length>0?r("dgg-icon",{staticClass:"password-icon",class:"x2",attrs:{"icon-class":e.passwordIcon},on:{click:e.showPassword}}):e._e()],1),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-20 line-height-1"},[r("dgg-checkbox",{model:{value:e.agreement,callback:function(t){e.agreement=t},expression:"agreement"}},[r("span",{staticClass:"font-size-13 margin-left-4"},[e._v("我已阅读"),r("a",{staticClass:"cursor-pointer color-10BBB8",on:{click:e.routerJumpAgreement}},[e._v("《企大宝平台协议》")])])])],1),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-20"},[r("dgg-button",{class:{disable:e.btnDisabled},attrs:{disabled:e.btnDisabled,type:"primary"},on:{click:e.registerEvent}},[e._v("注册")])],1),e._v(" "),r("dgg-form-item",{staticClass:"margin-top-20 font-size-13"},[r("div",{staticClass:"line-height-1 text-align-right"},[r("a",{staticClass:"cursor-pointer color-10BBB8",on:{click:function(t){return e.parentFun(!1)}}},[e._v("已有账号，请登录 "),r("dgg-icon",{class:"x2",attrs:{"icon-class":"dgg-right"}})],1)])])],1)],1)},n=[];r.d(t,"a",function(){return s}),r.d(t,"b",function(){return n})},YRr7:function(e,t,r){"use strict";r.r(t);var s=r("Fg6j"),n=r.n(s);for(var o in s)"default"!==o&&function(e){r.d(t,e,function(){return s[e]})}(o);t.default=n.a},h3Xl:function(e,t,r){"use strict";r.r(t);var s=r("7vqc"),n=r.n(s);for(var o in s)"default"!==o&&function(e){r.d(t,e,function(){return s[e]})}(o);t.default=n.a},"jd/E":function(e,t,r){"use strict";r.r(t);var s=r("FaQF"),n=r.n(s);for(var o in s)"default"!==o&&function(e){r.d(t,e,function(){return s[e]})}(o);t.default=n.a},p6p6:function(e,t,r){"use strict";r.r(t);var s=r("DstP"),n=r("YRr7");for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);r("4Ht4");var i=r("ZrdR"),a=Object(i.a)(n.default,s.a,s.b,!1,null,"9e820af6",null);a.options.__file="loginComp.vue",t.default=a.exports},y3tB:function(e,t,r){"use strict";r.r(t);var s=r("U5XC"),n=r("h3Xl");for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);r("Bi6i");var i=r("ZrdR"),a=Object(i.a)(n.default,s.a,s.b,!1,null,"4d3c574c",null);a.options.__file="login.vue",t.default=a.exports}}]);