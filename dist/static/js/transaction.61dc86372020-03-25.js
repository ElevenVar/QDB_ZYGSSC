(window.webpackJsonp=window.webpackJsonp||[]).push([["transaction"],{"4TUB":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transaction transaction-order"},[["processPlan","transactionTask","transactionDocument","transactionBill","transactionDynamic"].includes(e.$route.name)?a("div",{staticClass:"dgg-order-nav"},[a("span",{staticClass:"dgg-order-state"},[e._v(e._s(e.transactionItem.orderStatusName))]),e._v(" "),a("el-menu",{staticClass:"dgg-submenu-nav",attrs:{"default-active":e.defaultActive,mode:"horizontal"}},[a("el-menu-item",{key:"1",attrs:{index:"1"},on:{click:function(t){return e.menuJump("transactionTask")}}},[e._v("任务")]),e._v(" "),a("el-menu-item",{key:"2",attrs:{index:"2"},on:{click:function(t){return e.menuJump("transactionDocument")}}},[e._v("文档")]),e._v(" "),a("el-menu-item",{key:"4",attrs:{index:"4"},on:{click:function(t){return e.menuJump("transactionDynamic")}}},[e._v("动态")])],1),e._v(" "),a("div",{staticClass:"dgg-details-member"},[a("div",{staticClass:"memberImgLists"},e._l(e.memberImgLists,function(e,t){return a("el-image",{key:t,staticStyle:{width:"27px",height:"27px"},attrs:{src:e,fit:"cover"}})}),1),e._v(" "),a("dgg-icon",{staticClass:"more-member",attrs:{"icon-class":"icon_more","svg-width":"26px","svg-height":"26px"},on:{click:e.openMemberSet}})],1)],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"transaction"===e.$route.name,expression:"$route.name === 'transaction'"}],staticClass:"tabs-item-head"},[a("div",[a("dgg-icon",{staticClass:"dgg-search",attrs:{"icon-class":e.searchState?"icon_screen_selected":"icon_screen","svg-width":"15px","svg-height":"15px"},on:{click:function(t){e.searchState=!e.searchState}}}),e._v(" "),a("dgg-input",{staticClass:"search",staticStyle:{width:"270px"},attrs:{maxlength:30,oninput:"this.value=this.value.replace(/\\s/g,'')",placeholder:"客户名称/生产单编号"},model:{value:e.searchData,callback:function(t){e.searchData=t},expression:"searchData"}},[a("dgg-icon",{attrs:{slot:"prefix","icon-class":"dgg-search","svg-width":"15px","svg-height":"15px"},slot:"prefix"})],1),e._v(" "),e.searchState?e._e():a("dgg-button",{staticClass:"receive-button default-btn-with",attrs:{plain:""},on:{click:e.searchClick}},[e._v("搜 索")]),e._v(" "),e.searchState?e._e():a("dgg-button",{staticClass:"dgg-button-nocolor default-btn-with",attrs:{plain:""},on:{click:e.resetClick}},[e._v("重 置")]),e._v(" "),a("div",{staticClass:"fr transaction-radio"},[a("dgg-radio-group",{attrs:{"active-data":e.activeData,"is-button":!0,"radio-array":e.radioArray,space:0},on:{change:e.change}})],1)],1),e._v(" "),e.searchState?a("div",{staticClass:"tabs-item-query"},[a("dgg-query",{ref:"query",attrs:{"query-list":e.queryList,"can-export":!1,"clear-value":""},on:{resetEvent:e.resetQuery,search:e.search,changeEvent:e.queryEmit}})],1):e._e()]),e._v(" "),"1"===e.activeData?a("div",{directives:[{name:"show",rawName:"v-show",value:"transaction"===e.$route.name,expression:"$route.name === 'transaction'"}],staticClass:"transaction-body"},[a("dgg-edit-table",{attrs:{data:e.dataList.records,columns:e.columns,"request-data-api":e.get_order_model_by_status,params:e.params,"page-info":e.dataList.total}})],1):e._e(),e._v(" "),"2"===e.activeData?a("div",{directives:[{name:"show",rawName:"v-show",value:"transaction"===e.$route.name,expression:"$route.name === 'transaction'"}],staticClass:"transaction-body"},[a("dgg-edit-table",{attrs:{data:e.productList.records,columns:e.productColumns,"request-data-api":e.get_product_model_by_status,params:e.productParams,"page-info":e.productList.total},on:{"row-click":e.rowClick}})],1):e._e(),e._v(" "),a("router-view"),e._v(" "),e.memberSet?a("el-drawer",{staticStyle:{position:"absolute"},attrs:{visible:e.memberSetDrawer,"modal-append-to-body":!1,"before-close":e.memberSetClose,"append-to-body":!1,modal:!1,title:"成员设置",direction:"rtl","custom-class":"order-member-set",size:"300px"},on:{"update:visible":function(t){e.memberSetDrawer=t}}},[a("div",{staticClass:"dgg-member-info"},[a("div",{staticClass:"person-charge"},[a("p",{staticClass:"top"},[a("span",[e._v("项目负责人")]),e._v(" "),a("dgg-button",{staticClass:"brabBill-button",attrs:{"dgg-icon":"icon_change"},on:{click:function(t){return e.changeProjectMember(t,"manager")}}},[e._v("更换")]),e._v(" "),a("transactorProp",{attrs:{"up-all-pop":e.toTransactor_1,top:e.teamMemberTop,left:"50%","tab-names":e.tabNames,count:e.transactorData,currentTab:e.storeFlagUser,chooseStoreId:e.thisCheckedStoreId,thisStoreRealName:e.thisStoreRealName,thisStorePhone:e.thisStorePhone},on:{Clickoutside:e.closeStoreProp,changeStoreFlagUser:e.changeStoreFlagUser,storeKeyWordsFn:e.storeKeyWordsFn,clearNamePhone:e.clearNamePhone,chooseStoreDataFn:e.chooseStoreDataFn,load:e.load}})],1),e._v(" "),Object.keys(this.projectManager).length>0?a("p",{staticClass:"bottom"},[a("img",{staticClass:"headImg",attrs:{src:e.projectManager.addressHandlerPicture?e.projectManager.addressHandlerPicture:e.taskTransactorImg,alt:""}}),e._v(" "),a("span",[e._v(e._s(e.projectManager.memberName))])]):e._e()]),e._v(" "),a("div",{staticClass:"project-members"},[a("p",{staticClass:"top"},[a("span",[e._v("项目成员")]),e._v(" "),a("dgg-button",{staticClass:"brabBill-button",attrs:{"dgg-icon":"dgg-plus"},on:{click:function(t){return e.changeProjectMember(t,"member")}}},[e._v("添加")])],1)]),e._v(" "),a("ul",{staticClass:"members-list"},e._l(e.assistHandle,function(t,r){return a("li",{key:r,staticClass:"current-list"},[a("div",{staticClass:"left"},[a("img",{staticClass:"headImg",attrs:{src:t.addressHandlerPicture,alt:"",onerror:e.errorTaskTransactorImg}}),e._v(" "),a("span",[e._v(e._s(t.memberName))]),e._v(" "),a("dgg-icon",{staticClass:"cancel-merber-icon",attrs:{"icon-class":"cancel_distribution","svg-width":"16px","svg-height":"16px"},on:{click:function(a){return e.deleteUser(t)}}})],1),e._v(" "),a("span",[e._v(e._s(t.phoneNumber))])])}),0)])]):e._e(),e._v(" "),a("el-dialog",{attrs:{visible:e.backCodeDialog,title:"退单",width:"400px"},on:{"update:visible":function(t){e.backCodeDialog=t},close:function(t){e.backCodeForm.code="",e.backCodeForm.remark="",e.deleteFiles(e.DetailDocumentfileLists)}}},[a("el-form",{ref:"form",attrs:{model:e.backCodeForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"退单类型：",prop:"code"}},[a("el-select",{attrs:{placeholder:"请选择退单类型"},model:{value:e.backCodeForm.code,callback:function(t){e.$set(e.backCodeForm,"code",t)},expression:"backCodeForm.code"}},e._l(e.backCodeOption,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"back-memo",attrs:{label:"退单备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},"show-word-limit":"",maxlength:"500"},model:{value:e.backCodeForm.remark,callback:function(t){e.$set(e.backCodeForm,"remark",t)},expression:"backCodeForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"退单附件：",prop:"file"}},[e._e(),e._v(" "),a("span",{staticClass:"file-add",on:{click:function(t){e.fileType="back",e.docModal=!0}}},[e._v("+添加")])],1),e._v(" "),a("el-form-item",[a("ul",e._l(e.DetailDocumentfileLists,function(t,r){return a("li",{key:r},[a("span",{staticClass:"icon-name"},[a("dgg-icon",{attrs:{"icon-class":e.getIconByType(t),"svg-width":"16px","svg-height":"16px"}}),e._v(" "),a("span",{staticClass:"file-name",attrs:{title:t.filename?t.filename:"--"}},[e._v("\n                "+e._s(t.filename?t.filename:"--")+"\n              ")])],1),e._v(" "),a("span",{staticClass:"dgg-button-group file-handel"},["pdf"==e.getDocumentType(t)||e.imageTypes.includes(e.getDocumentType(t))?a("span",{on:{click:function(a){e.viewDocument(t,e.getDocumentType(t))}}},[e._v("查看")]):e._e(),e._v(" "),a("span",{on:{click:function(a){return e.downloadDocument(t)}}},[e._v("下载")]),e._v(" "),a("span",{on:{click:function(a){return e.invalidDocument(t)}}},[e._v("删除")])])])}),0)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.backCodeDialog=!1,e.backCodeForm.code="",e.backCodeForm.remark="",e.deleteFiles(e.DetailDocumentfileLists)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.backOrder}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.caseAuditDialog,title:"结项申请",width:"400px"},on:{"update:visible":function(t){e.caseAuditDialog=t},close:function(t){e.caseAuditForm.code="",e.caseAuditForm.remark="",e.deleteFiles(e.DetailDocumentfileLists)}}},[a("el-form",{ref:"form",attrs:{model:e.caseAuditForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"结项类型：",prop:"code"}},[a("el-select",{attrs:{placeholder:"请选择结项类型"},model:{value:e.caseAuditForm.code,callback:function(t){e.$set(e.caseAuditForm,"code",t)},expression:"caseAuditForm.code"}},e._l(e.caseAuditOption,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"back-memo",attrs:{label:"结项说明：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},"show-word-limit":"",maxlength:"500"},model:{value:e.caseAuditForm.remark,callback:function(t){e.$set(e.caseAuditForm,"remark",t)},expression:"caseAuditForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结项附件：",prop:"file"}},[e._e(),e._v(" "),a("span",{staticClass:"file-add",on:{click:function(t){e.fileType="audit",e.docModal=!0}}},[e._v("+添加")])],1),e._v(" "),a("el-form-item",[a("ul",e._l(e.DetailDocumentfileLists,function(t,r){return a("li",{key:r},[a("span",{staticClass:"icon-name"},[a("dgg-icon",{attrs:{"icon-class":e.getIconByType(t),"svg-width":"16px","svg-height":"16px"}}),e._v(" "),a("span",{staticClass:"file-name",attrs:{title:t.filename?t.filename:"--"}},[e._v("\n                "+e._s(t.filename?t.filename:"--")+"\n              ")])],1),e._v(" "),a("span",{staticClass:"dgg-button-group file-handel"},["pdf"==e.getDocumentType(t)||e.imageTypes.includes(e.getDocumentType(t))?a("span",{on:{click:function(a){e.viewDocument(t,e.getDocumentType(t))}}},[e._v("查看")]):e._e(),e._v(" "),a("span",{on:{click:function(a){return e.downloadDocument(t)}}},[e._v("下载")]),e._v(" "),a("span",{on:{click:function(a){return e.invalidDocument(t)}}},[e._v("删除")])])])}),0)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.caseAuditDialog=!1,e.caseAuditForm.code="",e.caseAuditForm.remark="",e.deleteFiles(e.DetailDocumentfileLists)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.auditOrder}},[e._v("确 定")])],1)],1),e._v(" "),a("dgg-modal",{staticClass:"document-upload-modal",attrs:{modal:e.docModal,hasmodal:!0,"close-on-click-modal":!1,loading:e.fileLoading,"affirm-text":"确定",title:"上传文档",width:"512px"},on:{modalAffirm:e.submitModal,modalQuit:function(t){e.docModal=!1}}},[e.docModal?a("dgg-upload-doc",{ref:"uploadDoc",staticClass:"document-upload-demo",attrs:{limit:50,"auto-upload":!1,data:e.uploadparams,"file-list":e.fileList,"accept-type":e.acceptType,"list-url":e.listUrl,"del-url":e.deleteUrl,action:e.uploadUrl,onError:e.fileLoadError,multiple:""}},[a("dgg-button",{staticClass:"receive-button",staticStyle:{width:"100px"},attrs:{type:"primary"}},[e._v("上传文件")])],1):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imageView,expression:"imageView"}],staticClass:"img-handle-item"},[a("el-image",{ref:"imageViewRef",staticClass:"imageViewRef",staticStyle:{width:"0",height:"0"},attrs:{src:e.imageUrl,"preview-src-list":e.showImgList}})],1)],1)},s=[];a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s})},"9y4h":function(e,t,a){},"A/Ru":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAE/ElEQVRIS62WbWxTVRjH/+fc2/audKwdDDa2CUQQIhGMiyQSZhgMJkjCSyMYQ6K8GnF8ICAzxhAgCGJI+AABFN8TjBIGxqiJhK0fFnlZGJNBYKJC5ua6yUZb99benhdzbnf3UroNoje5bdNzzvN7/s/zv+dcghGuxtbOmRDcD8hCQE4HaGZiibgPkHqAVIFq5fnjPXXDhSJDDTY3hwsExQEpsWCkZNQ4IaigAmUTJnhrUs1/ACSl1JtawocIoZullPRhIPYcQoiQUhzNy/ZuJYSwgWsHgRoawj7qRDmAokcBpJgbECb8Eyd6Q31J2D8SSiLn/geIHTKQl52xyFbWp6gxGDoMkNL/qCRpuTySn+PbYvVQfSQaT6oftScjJaV6RoWcrQxigZpawucf1l0jBU8eV27My/YWk8Rzwq4lT5BSou3vVmSNzx4xdsPdP3CtphpLV64GpSmMSvVZpDEY2Q3IncnRrlZfQlnpOhQvWYayXfuHhAkh4F84B3OLFmLrO7tTg0D2kMZguLLfaRJOhwZdo2BcoL39Pm78Uovnnh/e7XW1V1Dw7GwYLg0aJdbaWJzDNAUIsboTII3BUDNAcnSNYLTHaUFU2bgQ4EKisysOLoavngKMHuWEVBuTtS5xm0wg2qNgCKrSRQmka4zXAKUEPbEYKi5ewrTJkzAxNxdMCHR1cUgVJcWlWjLWm2aNmPE49h47DqfTiddfXo20tDTEogKck5gFchuay+N24F4ohCyfDxu2bUPd3Qa899Z2zC14BlGTI26mBrkNHWrthdpa5Gdno2z7NtwMtmLZihXYsWkj4kzAjFmgUHO625mTZuj44ONPUF9bg8s/fg/NNwaFy/04+PYO3I5E8Mali+CagFLewTkEKNyaA29OmoblE/Lx+dlv8cnxo2ivvwmanoGnSpbgxL694KpfUalKF670uB1FKrNPy8/g1OnTWFzwND777gcsX7XKyuqnv5qw4cLPyB/jhneUAbVbMhDrfmncYyibNgMx08T+Y8dx9puvoXl9WL9mDV71rwSLC5imZYbIbqeD7PSmu9ATjWLfhx+hpa3NcsuuLaXwZWTg3as1+PLO73gyNwOgtA+iQLyboWr+C0h3OFB76xYCl6sxOS8PJYVzoTwU7eEQgu7pe2AdBoHPbViNEL2uU99X7t3DikAFcrwGMtMN8F4lliJJ0GMyTJEOfDVvPjy6nnCclJb73r9eB4fUsWnKjFmWyavu3Dl/4s/LC+ZkPY4luU8gy+VCyDTxxW+3cfDGdYwd7cT4DMMKbJfMBilwKNwJR5Rh7dSpyDIMdMbjONPQgF//iagTsaJz7fpiC/RK5ckCQlHNBGgHA1q6BSIxDpeuIdPjgK5rCSVJoIH/dXVF0dPRBREfdN4JQeXs7tc2JjZVCxY4eZhLUtqfMXoDJ3rClQFSKGKgg8eEBOMSrLsbsqPjSOe6Df3HhALNCwT0cQieY5IU2WWxoX19kcptvWaQAAdF3EpClbQ/MZWU5CIQNtyLUFRkSRx0lL9YddLnZFo5kxgEG6pscWlDBpeVExKQMeaPLF364FFul1Ap86D1EJdkc1wSOrDpqYyQpF5wQo+2666tthI77pCvW4sqTxUIkANMkgX9ZRngut5+2WXloBWm0MraSkoe7nUreUcrPH96pqDUzyQKmSTTGWimAnOJ+wyknhFaxaCVNxUvHvYF8l/fN4khM+xeNwAAAABJRU5ErkJggg=="},T9wt:function(e,t,a){"use strict";var r=a("wdz+");a.n(r).a},mvd3:function(e,t,a){"use strict";a.r(t);var r=a("4TUB"),s=a("zAjt");for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);a("t/hy"),a("T9wt");var i=a("ZrdR"),o=Object(i.a)(s.default,r.a,r.b,!1,null,"830f610c",null);o.options.__file="index.vue",t.default=o.exports},"t/hy":function(e,t,a){"use strict";var r=a("9y4h");a.n(r).a},tu3J:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});p(a("omC7"));var r=p(a("EPZ6")),s=p(a("cLjf")),n=p(a("hDQ3")),i=p(a("unDg")),o=p(a("bS4n")),c=a("8t5x"),l=p(a("agur")),u=p(a("J+lr")),d=p(a("A/Ru")),m=p(a("qvHG"));p(a("a/LZ"));function p(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Transaction",components:{transactorProp:m.default},data:function(){var e=this;this.$createElement;return{fileLoading:!1,taskTransactorImg:d.default,errorTaskTransactorImg:'this.src="'+d.default+'"',chooseStoreId:"",receiveOption:[],searchStorePhone:"",choosePeopleData:{},showChoosePeopleDialog:!1,deleteFile:!0,productListRecords:!0,docModal:!1,imageView:!1,imageUrl:"",fileList:[],showImgList:[],acceptType:["doc","docx","xls","xlsx","ppt","mp3","wma","wav","pdf","pptx","txt","jpg","jpeg","gif","png","bmp","rar","zip","gz","mp4","wmv","avi","3gp","mkv"],rules:{remark:[{required:!0,message:"请填写备注",trigger:"blur"}],code:[{required:!0,message:"",trigger:"blur"}],file:[{required:!0,message:"请上传附件",trigger:"blur"}]},backCodeForm:{code:"",remark:""},caseAuditForm:{code:"",remark:""},popperOptions:{boundariesElement:"body"},memberSetDrawer:!1,searchKey:"",orderStateVal:"",activeData:"1",showTips:!1,isMainHandleOption:[{label:"项目主办",value:1},{label:"项目协办",value:2}],radioArray:[{label:"订 单",value:"1"},{label:"产 品",value:"2"}],activeName:"first",search1:"",searchState:!1,columns:[{prop:"productName",width:"175",label:"业务产品",type:"isrender",render:function(e,t){return e("div",{style:"padding-bottom:5px;"},[e("span",{style:"border-bottom: 1px solid #10bbb8 !important;padding-bottom:3px;padding-right:3px;vertical-align: top;"},[t.row.businessProductName]),e("span",{class:"dgg-text-ellip",style:"display:inline-block; width:90px;vertical-align: top;"},[t.row.productName])])}},{prop:"scOrderNo",label:"生产单编号",width:"160",type:"isrender",render:function(t,a){return t("div",{style:"color:#10BBB8;cursor: pointer;",class:"dgg-text-ellip",on:{click:function(t){e.rowClick(a.row)}}},[a.row.scOrderNo])}},{prop:"customerName",width:"160",label:"客户名称",type:"isrender",render:function(e,t){return e("div",{class:"dgg-text-ellip"},[t.row.customerName])}},{prop:"region",width:"100",label:"办理地区"},{prop:"proScAttrName",label:"产品属性"},{prop:"contractNo",label:"合同编号"},{prop:"orderStatusName",label:"订单状态"},{prop:"scAttrStatusName",label:"属性状态"},{label:"操作",width:"170",type:"isrender",render:function(t,a){return"QDS_SC_ORDER_STATUS_CODE01"==a.row.orderStatus||"QDS_SC_ORDER_STATUS_CODE19"==a.row.orderStatus||"QDS_SC_ORDER_STATUS_CODE29"==a.row.orderStatus?"QDS_ZYGSSC_ATTRSTATUS_CODE1"==a.row.scAttrStatus||"QDS_ZYGSSC_ATTRSTATUS_CODE4"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.Submission(a.row)}}},["提 交"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.backConfirm(a.row)}}},["退 单"]),t("dgg-button",{style:"width:50px;margin-left:10px;",class:"dgg-button-nocolor",on:{click:function(t){e.showAuditDialog(a.row)}}},["结 项"])]):"QDS_ZYGSSC_ATTRSTATUS_CODE2"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.backConfirm(a.row)}}},["退 单"]),t("dgg-button",{style:"width:50px;margin-left:10px;",class:"dgg-button-nocolor",on:{click:function(t){e.showAuditDialog(a.row)}}},["结 项"])]):t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.backConfirm(a.row)}}},["退 单"]),t("dgg-button",{style:"width:50px;margin-left:10px;",class:"dgg-button-nocolor",on:{click:function(t){e.showAuditDialog(a.row)}}},["结 项"])]):"QDS_SC_ORDER_STATUS_CODE02"==a.row.orderStatus||"QDS_SC_ORDER_STATUS_CODE03"==a.row.orderStatus||"QDS_SC_ORDER_STATUS_CODE27"==a.row.orderStatus?"QDS_ZYGSSC_ATTRSTATUS_CODE1"==a.row.scAttrStatus||"QDS_ZYGSSC_ATTRSTATUS_CODE4"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.Submission(a.row)}}},["提 交"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"])]):"QDS_ZYGSSC_ATTRSTATUS_CODE2"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"])]):t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"])]):"QDS_SC_ORDER_STATUS_CODE26"==a.row.orderStatus?"QDS_ZYGSSC_ATTRSTATUS_CODE1"==a.row.scAttrStatus||"QDS_ZYGSSC_ATTRSTATUS_CODE4"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.Submission(a.row)}}},["提 交"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.recovery(a.row)}}},["恢 复"])]):"QDS_ZYGSSC_ATTRSTATUS_CODE2"==a.row.scAttrStatus?t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.withdraw(a.row)}}},["撤 回"]),t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.recovery(a.row)}}},["恢 复"])]):t("div",[t("dgg-button",{style:"width:50px",class:"dgg-button-nocolor",on:{click:function(t){e.recovery(a.row)}}},["恢 复"])]):void 0}}],productColumns:[{prop:"productName",width:"380",label:"业务产品",type:"isrender",render:function(e,t){return e("div",{style:"height:90px;padding:20px 0;"},[e("div",{style:"line-height:20px;height:20px"},[e("span",{class:"transaction-name-lable"},[e("span",{class:1===parseInt(t.row.overdueStatus)?"transaction-name-sate":2===parseInt(t.row.overdueStatus)?"transaction-name-yewllo":""},[1===parseInt(t.row.overdueStatus)?"已超期":2===parseInt(t.row.overdueStatus)?"即将到期":""]),t.row.productName])]),e("div",{class:"transaction-name-cumtorName dgg-text-ellip",style:"display:inline-block; width:300px;vertical-align: top;"},["客户：",t.row.customerName])])}},{prop:"latestProgressNum",width:"370",label:"最新任务/进度",type:"isrender",render:function(t,a){return t("div",{style:"height:90px;padding:20px 0;"},[t("div",{style:"line-height:20px;height:20px"},[t("el-progress",{attrs:{percentage:new Number(100*e.decimal(isNaN(parseInt(a.row.completeTaskNum)/parseInt(a.row.taskTotal))?0:parseInt(a.row.completeTaskNum)/parseInt(a.row.taskTotal))).toFixed(),"stroke-width":4},style:"width:220px"})]),t("div",{class:"transaction-name-cumtorName"},["最新阶段：",a.row.latestCasePhaseName])])}},{prop:"projectMembers",width:"200",label:"负责人/办理人",type:"isrender",render:function(e,t){var a=t.row.projectMembers;return e("div",{style:"padding:20px 0;height:90px;"},[e("div",[e("el-tooltip",{class:"msg-dot",attrs:{effect:"dark",placement:"top"}},[e("div",{slot:"content"},[t.row.projectManagerName]),e("el-image",{style:"width: 27px; height: 27px; border-radius: 27px;margin-right:5px",attrs:{src:t.row.headPortrait?t.row.headPortrait:d.default}})])]),e("div",[a&&a.length&&a.map(function(t){return e("el-tooltip",{class:"msg-dot",attrs:{effect:"dark",placement:"top"}},[e("div",{slot:"content"},[t.projectMembersName]),e("el-image",{attrs:{src:t.headPortrait?t.headPortrait:d.default,fit:"cover"},style:"width: 27px; height: 27px; border-radius: 27px;margin-right:5px"})])})])])}},{prop:"orderDeadlineTimeStamp",label:"到期时间",type:"isrender",render:function(e,t){return e("div",{class:3===parseInt(t.row.overTimeStatus)?"deadline-red":2===parseInt(t.row.overTimeStatus)?"deadline-yellow":"deadline-text"},[t.row.orderDeadline])}}],list1:[],searchData:"",paramsData:{},paramsSearchData:{},caseAuditDialog:!1,caseAuditOption:[],caseAuditRow:"",backCodeDialog:!1,backCodeOption:[],backOrderRow:"",assistHandle:[],projectManager:{},memberSettingDialog:!1,memberSettingDialogTitle:"添加成员",memberSettingDialogLabel:"成员：",memberSettingDialogOption:[],memberSettingDialogValue:"",memberSettingDialogMultiple:!1,fileType:"back",DetailDocumentfileLists:[],docIconList:{".doc.docx":"icon_word",".xls.xlsx":"icon_excel",".ppt.pptx":"icon_ppt",".txt":"icon_txt",".mp3.wma.wav":"icon_music",".mp4.wmv.avi.3gp.mkv":"icon_video",".jpg.jpeg.gif.png.bmp":"icon_pic",".rar.zip.gz":"icon_package",".pdf":"icon_pdf"},officeTypes:["doc","docx","xls","xlsx","ppt","pptx","txt"],imageTypes:["jpg","jpeg","gif","png","bmp"],routeParam:{},toTransactor_1:!1,tabNames:["本店成员","外部合作"],transactorData:[],storeFlagUser:0,thisCheckedStoreId:"",thisStoreRealName:"",thisStorePhone:"",type:"",teamMemberTop:""}},computed:(0,o.default)({},(0,c.mapState)(["userId","transactionItem","orderStatusName","storeInfoData"]),(0,c.mapState)("transactionModule",["dataList","productList"]),(0,c.mapState)("orderModule",["productOptions","productDataList","orderStatusList"]),{params:function(){return(0,o.default)({},this.paramsData,this.routeParam)},productParams:function(){return(0,o.default)({},this.paramsData,this.routeParam)},memberImgLists:function(){var e=[];return e.push(this.projectManager.addressHandlerPicture),this.assistHandle.forEach(function(t,a){e.push(t.addressHandlerPicture)}),e},queryList:function(){return[{field:"businessProductCode",type:"select",label:"业务",width:"220px",value:"",options:[{label:"全部",value:""}].concat((0,i.default)(this.productOptions.map(function(e){return{value:e.code,label:e.name}})))||[]},{field:"productId",type:"select",label:"产品",value:"",width:"220px",options:[{label:"全部",value:""}].concat((0,i.default)(this.productDataList.map(function(e){return{value:e.id,label:e.name}})))||[]},{field:"orderStatus",type:"select",label:"状态",width:"220px",value:"",options:this.orderStatusList.map(function(e){return{value:e.code,label:e.name}})||[]},{field:["startTime","endTime"],type:"daterange",label:"时间",width:"220px",value:""},{label:"佣金",width:"220px",children:[{field:"miniCommission",type:"input",label:"test1",width:"97px",placeholder:"最低",value:""},{field:"maxCommission",type:"input",label:"test1",width:"97px",placeholder:"最高",value:""}]},{field:"teamName",type:"input",label:"团队",width:"220px",placeholder:"请输入",value:""}]},memberSet:function(){return["transactionTask","transactionDocument","transactionBill","transactionDynamic"].includes(this.$route.name)},uploadUrl:function(){return l.default.uploadUrl},listUrl:function(){return l.default.listUrl},downloadUrl:function(){return l.default.downloadUrl},deleteUrl:function(){return l.default.deleteUrl},uploadparams:function(){return{fileId:"back"===this.fileType?"ZYGSSC_"+this.backOrderRow.scOrderId:"ZYGSSC_"+this.caseAuditRow.scOrderId,isDeleteOriginalFile:!1,type:"back"===this.fileType?"REFUND_APPLY":"CASE_AUDIT_APPLY"}},defaultActive:function(){var e="1";return"transactionTask"===this.$route.name&&(e="1"),"transactionDocument"===this.$route.name&&(e="2"),"transactionBill"===this.$route.name&&(e="3"),"transactionDynamic"===this.$route.name&&(e="4"),e}}),watch:{memberSet:function(){var e=(0,n.default)(s.default.mark(function e(t){var a,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.get_assist_handle({zygsscId:this.transactionItem.id,searchWord:""});case 3:200===(a=e.sent).code&&(a.data.length>0?(this.assistHandle=a.data.filter(function(e,t,a){return 0==e.isManager}),r=a.data.filter(function(e,t,a){return 1==e.isManager}),this.projectManager=r.length>0?r[0]:{}):(this.assistHandle=[],this.projectManager={}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},beforeRouteLeave:function(e,t,a){sessionStorage.processPlanRoute=t.fullPath,a()},mounted:function(){var e=(0,n.default)(s.default.mark(function e(){var t,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$route.params&&"productMode"===this.$route.params.tabindex&&(this.activeData="2"),!["transactionTask","transactionDocument","transactionBill","transactionDynamic"].includes(this.$route.name)){e.next=6;break}return e.next=4,this.get_assist_handle({zygsscId:this.transactionItem.id});case 4:200===(t=e.sent).code&&(t.data&&t.data.length>0?(this.assistHandle=t.data.filter(function(e,t,a){return 0==e.isManager}),a=t.data.filter(function(e,t,a){return 1==e.isManager}),this.projectManager=a.length>0?a[0]:{}):(this.assistHandle=[],this.projectManager={}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),activated:function(){},created:function(){sessionStorage.getItem("transtionOrderModel")&&(this.activeData=sessionStorage.getItem("transtionOrderModel")),this.routeParam=this.$route.params},beforeDestroy:function(){},methods:(0,o.default)({},(0,c.mapActions)("orderModule",["zysc_find_product"]),(0,c.mapActions)(["ruoterJump"]),(0,c.mapActions)("transactionModule",["get_order_model_by_status","get_product_model_by_status","apply_back_order_audit","apply_case_audit","get_assist_handle","delete_assist_handle","update_project_manager","add_assist_handle"]),(0,c.mapActions)("transactionModule",["search_files","update_files","delete_files","undo_case_audit","undo_back_order_audit","undo_case_recovery","undo_case_submission"]),(0,c.mapActions)("workbenchTaskModule",["get_store_user"]),(0,c.mapMutations)(["setTransactionItem","setTranstionOrderModel"]),(0,c.mapActions)("receiveModule",["refuse_code_tree_book_list"]),(0,c.mapActions)("transactionTaskModule",["zygs_queryMemberNonMerchantVO"]),{checkBtnJurisdiction:function(e){var t=this;if(-1!==this.storeInfoData.roles.indexOf("MERCHANT_STORE_OWNER"))return!0;if(e.projectManagerId===this.userId)return!0;var a=!1;return e.projectMemberJson&&JSON.parse(e.projectMemberJson).forEach(function(e){e.userId===t.userId&&(a=!0)}),a},resetQuery:function(){this.searchData=""},receiveOrderDialogFn:function(){var e=(0,n.default)(s.default.mark(function e(){var t,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.transactionItem.teamId){e.next=5;break}return e.next=3,this.get_store_user({userOrPhone:this.searchStorePhone,storeId:this.transactionItem.teamId,merCheck:0,isCertification:1,flag:0,currentStatus:"EMPLOYEE_STATUS_1"});case 3:200===(t=e.sent).code?(a=[],t.data.forEach(function(e,t){"EMPLOYEE_STATUS_1"===e.currentStatus&&(e.value=e.userId,e.label=e.realName,a.push(e))}),this.receiveOption=a):this.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),withdraw:function(){var e=(0,n.default)(s.default.mark(function e(t){var a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("确认要撤回退单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,n.default)(s.default.mark(function e(){var r,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.scAttrStatus||"QDS_ZYGSSC_ATTRSTATUS_CODE2"!=t.scAttrStatus){e.next=7;break}return e.next=3,a.undo_back_order_audit({id:t.id});case 3:200===(r=e.sent).code?(a.$message.success("操作成功"),a.searchClick()):a.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"}),e.next=11;break;case 7:return e.next=9,a.undo_case_audit({id:t.id});case 9:200===(n=e.sent).code?(a.$message.success("操作成功"),a.searchClick()):a.$notify({message:n.message,type:"error",customClass:"dgg-tip-msg"});case 11:case"end":return e.stop()}},e,a)}))).catch(function(){});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),recovery:function(){var e=(0,n.default)(s.default.mark(function e(t){var a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("确认要恢复订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,n.default)(s.default.mark(function e(){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.undo_case_recovery({id:t.id});case 2:200==(r=e.sent).code?(a.$message.success("操作成功"),a.searchClick()):a.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"});case 4:case"end":return e.stop()}},e,a)}))).catch(function(){});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Submission:function(){var e=(0,n.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.proccessPlanID=t.id,this.ruoterJump({name:"processPlan",params:{id:t.id}});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getIconByType:function(e){var t=e.filename&&e.filename.substr(e.filename.lastIndexOf(".")+1),a=(0,r.default)(this.docIconList).find(function(e){return e.indexOf(t)>-1});return this.docIconList[a]||"icon_others"},viewDocument:function(e,t){if(this.imageTypes.includes(t))this.imageUrl="",this.imageView=!0,this.imageUrl=e.filepath,this.showImgList=[this.imageUrl],this.$forceUpdate(),this.$refs.imageViewRef.clickHandler();else{var a=encodeURI(encodeURI(e.filename));window.open(e.filepath+"?title="+a)}},getDocumentType:function(e){return e.filename&&e.filename.substr(e.filename.lastIndexOf(".")+1)},searchFile:function(){var e=(0,n.default)(s.default.mark(function e(t){var a,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:return a=this.uploadparams.fileId+("back"===this.fileType?"_REFUND_APPLY":"_CASE_AUDIT_APPLY"),e.next=5,this.search_files({fileId:a});case 5:200===(r=e.sent).code&&r.data.length>0?this.DetailDocumentfileLists=r.data:this.DetailDocumentfileLists=[];case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),downloadDocument:function(e){var t=encodeURI(encodeURI(e.filename)),a=this.downloadUrl+"?fileUrl="+e.filepath+"&fileName="+t;window.open(a,"_blank")},deleteFiles:function(e){var t=this;Array.isArray(e)&&e.length>0&&this.deleteFile&&e.forEach(function(e){t.delete_files({fileId:e.fileid,fileName:e.filename,form:1}).then(function(e){})}),this.deleteFile=!0},invalidDocument:function(e){var t=this;this.$confirm("确认要删除该文件？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.delete_files({fileId:e.fileid,fileName:e.filename,form:1}).then(function(e){200===e.code&&(t.$notify({title:"提示",message:"操作成功",type:"success",customClass:"dgg-tip-msg"}),t.searchFile())})}).catch(function(){})},changeProjectMember:function(){var e=(0,n.default)(s.default.mark(function e(t,a){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=window.event||t).preventDefault(),r.stopPropagation(),this.requestStoreUser(),this.toTransactor_1=!0,this.type=a,"member"===a&&(this.teamMemberTop="210px"),"manager"===a&&(this.teamMemberTop="110px"),e.abrupt("return");case 9:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),deleteUser:function(e){var t=this;this.$confirm("是否确定删除项目成员","删除成员",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,n.default)(s.default.mark(function a(){var r,n,i;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.delete_assist_handle({memberId:e.memberId,zygsscId:t.transactionItem.id});case 2:if(200===(r=a.sent).code){a.next=7;break}t.$notify({message:r.message,type:"error",customClass:"dgg-tip-msg"}),a.next=12;break;case 7:return t.$notify({message:r.message,type:"success",customClass:"dgg-tip-msg"}),a.next=10,t.get_assist_handle({zygsscId:t.transactionItem.id});case 10:200===(n=a.sent).code&&(n.data.length>0?(t.assistHandle=n.data.filter(function(e,t,a){return 0==e.isManager}),i=n.data.filter(function(e,t,a){return 1==e.isManager}),t.projectManager=i.length>0?i[0]:{}):(t.assistHandle=[],t.projectManager={}));case 12:case"end":return a.stop()}},a,t)}))).catch((0,n.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}},e,t)})))},backConfirm:function(e){var t=this;this.$confirm("该订单根据您的行为及数据进行匹配，建议不要轻易退单，退单将会影响您的接单排名分数哟~~","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.showBackCodeDialog(e)}).catch(function(){})},showBackCodeDialog:function(){var e=(0,n.default)(s.default.mark(function e(t){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.rules.remark=[{required:!0,message:"请填写退单备注",trigger:"blur"}],this.fileType="back",e.next=4,this.refuse_code_tree_book_list({code:"QDS_ZYGSSC_CHARGEBACKTYPE",type:1,level:1});case 4:200===(a=e.sent).code&&(this.backCodeOption=a.data,this.searchFile()),this.backCodeDialog=!0,this.backOrderRow=t;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),backOrder:function(){var e=(0,n.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.backCodeForm.code.length){e.next=3;break}return u.default.error("请选择退单原因"),e.abrupt("return");case 3:if(0!==this.backCodeForm.remark.trim().length){e.next=6;break}return u.default.error("请填写退单备注"),e.abrupt("return");case 6:if(0!==this.DetailDocumentfileLists.length){e.next=9;break}return u.default.error("请上传退单附件"),e.abrupt("return");case 9:return e.next=11,this.apply_back_order_audit({id:this.backOrderRow.id,retreatOrEndType:this.backCodeForm.code,remark:this.backCodeForm.remark});case 11:200===(t=e.sent).code?(this.$message.success("操作成功"),this.searchClick(),this.backCodeForm.code="",this.backCodeForm.remark="",this.backCodeDialog=!1,this.deleteFile=!1):this.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showAuditDialog:function(){var e=(0,n.default)(s.default.mark(function e(t){var a,r,n,i,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.orderDeadline||!t.periodSuspension){e.next=19;break}if(a=new Date(t.orderDeadline).getTime(),r=new Date(t.periodSuspension).getTime(),n=(new Date).getTime(),this.rules.remark=[{required:!0,message:"请填写结项备注",trigger:"blur"}],this.fileType="audit",this.searchFile(),!(Number(a)<Number(r)||Number(n)>Number(r))){e.next=13;break}(i=[]).push({name:"延期结项",code:"QDS_ZYGSSC_ENDTYPE_CODE2"}),this.caseAuditOption=i,this.caseAuditDialog=!0,this.caseAuditRow=t,e.next=17;break;case 13:return e.next=15,this.refuse_code_tree_book_list({code:"QDS_ZYGSSC_ENDTYPE",type:1,level:1});case 15:200===(o=e.sent).code&&(this.caseAuditOption=o.data,this.caseAuditDialog=!0,this.caseAuditRow=t);case 17:e.next=23;break;case 19:return e.next=21,this.refuse_code_tree_book_list({code:"QDS_ZYGSSC_ENDTYPE",type:1,level:1});case 21:200===(c=e.sent).code&&(this.caseAuditOption=c.data,this.caseAuditDialog=!0,this.caseAuditRow=t);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),auditOrder:function(){var e=(0,n.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.caseAuditForm.code.length){e.next=3;break}return u.default.error("请选择结项原因"),e.abrupt("return");case 3:if(0!==this.caseAuditForm.remark.trim().length){e.next=6;break}return u.default.error("请填写结项备注"),e.abrupt("return");case 6:if(0!==this.DetailDocumentfileLists.length){e.next=9;break}return u.default.error("请上传结项附件"),e.abrupt("return");case 9:return e.next=11,this.apply_case_audit({id:this.caseAuditRow.id,retreatOrEndType:this.caseAuditForm.code,remark:this.caseAuditForm.remark});case 11:200===(t=e.sent).code?(this.$message.success("操作成功"),this.searchClick(),this.caseAuditForm.code="",this.caseAuditForm.remark="",this.caseAuditDialog=!1,this.deleteFile=!1):this.$notify({message:t.message,type:"error",customClass:"dgg-tip-msg"});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),change:function(e){this.searchState&&this.$refs.query.resetAll(),this.resetClick(),this.activeData=e,this.setTranstionOrderModel(e)},rowClick:function(e){sessionStorage.proccessPlanID=e.id,this.setTransactionItem(e),"QDS_ZYGSSC_ATTR_CODE2"!=e.proScAttr||"QDS_ZYGSSC_ATTRSTATUS_CODE4"!=e.scAttrStatus&&"QDS_ZYGSSC_ATTRSTATUS_CODE1"!=e.scAttrStatus?this.ruoterJump({name:"transactionTask",params:{title:this.transactionItem.productName+"-"+this.transactionItem.scOrderNo}}):this.ruoterJump({name:"processPlan",params:{id:e.id}})},getorderStatus:function(e){switch(e){case"QDS_SC_ORDER_STATUS_CODE01":return"办理中";case"QDS_SC_ORDER_STATUS_CODE02":return"退单待审核";case"QDS_SC_ORDER_STATUS_CODE03":return"完结待审核";case"QDS_SC_ORDER_STATUS_CODE04":return"已完结";case"QDS_SC_ORDER_STATUS_CODE05":return"已退单";case"QDS_SC_ORDER_STATUS_CODE06":return"生产订单生成中";case"QDS_SC_ORDER_STATUS_CODE07":return"待接收";case"QDS_SC_ORDER_STATUS_CODE08":return"已退回";case"QDS_SC_ORDER_STATUS_CODE09":return"待分配"}},openMemberSet:function(){this.memberSetDrawer=!0},memberSetClose:function(e){return e(),!1},decimal:function(e){var t=parseFloat(e);if(isNaN(t))return 0;var a=(t=Math.round(100*t)/100).toString(),r=a.indexOf(".");for(r<0&&(r=a.length,a+=".");a.length<=r+2;)a+="0";return Number(a)},queryEmit:function(){var e=(0,n.default)(s.default.mark(function e(t,a){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("businessProductCode"!==a){e.next=4;break}return e.next=3,this.zysc_find_product({proType:t});case 3:this.$refs.query.resetFieldValue("productId");case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),search:function(e){this.paramsSearchData=e,this.paramsData=this.paramsSearchData},searchClick:function(){this.paramsData={keyWord:this.searchData}},resetClick:function(){this.searchData="",this.paramsData={}},menuJump:function(e){this.ruoterJump({name:e,params:{title:this.transactionItem.productName+"-"+this.transactionItem.scOrderNo}})},fileLoadError:function(){this.fileLoading=!1},submitModal:function(){var e=(0,n.default)(s.default.mark(function e(){var t=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.fileLoading=!0,e.next=3,this.$refs.uploadDoc.$refs["upload-inner"].manualUpload(function(){t.docModal=!1,t.fileLoading=!1,t.searchFile()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),chooseStoreData:function(e){var t=this;this.$nextTick(function(){t.memberSettingDialogValue=e.value,t.showChoosePeopleDialog=!1,t.choosePeopleData=e})},deleteChoosePeople:function(){var e=this;this.$nextTick(function(){e.choosePeopleData="",e.memberSettingDialogValue=""})},closeStoreProp:function(){this.toTransactor_1=!1,this.storeFlagUser=0,this.thisCheckedStoreId="",this.clearNamePhone()},clearNamePhone:function(){this.thisStoreRealName="",this.thisStorePhone=""},changeStoreFlagUser:function(e){this.storeFlagUser=e,this.requestStoreUser()},requestStoreUser:function(){var e=this;this.transactionItem&&this.transactionItem.teamId&&this.zygs_queryMemberNonMerchantVO({storeId:this.transactionItem.teamId,userName:this.thisStoreRealName,phoneNumber:this.thisStorePhone,isOutside:this.storeFlagUser,zygsscId:this.transactionItem.id}).then(function(t){200==t.code&&(e.transactorData=t.data)}).catch(function(e){})},storeKeyWordsFn:function(e,t){0==e?this.thisStoreRealName=t:this.thisStorePhone=t,this.requestStoreUser()},chooseStoreDataFn:function(){var e=(0,n.default)(s.default.mark(function e(t){var a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$nextTick((0,n.default)(s.default.mark(function e(){var r,n,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={memberId:t.userId,memberName:t.realName,zygsscId:a.transactionItem.id,memberPhone:t.phone,isFeign:a.storeFlagUser},n="","member"!==a.type){e.next=8;break}return e.next=5,a.add_assist_handle(r);case 5:n=e.sent,e.next=12;break;case 8:return r.storeId=a.transactionItem.teamId,e.next=11,a.update_project_manager(r);case 11:n=e.sent;case 12:if(200!==n.code){e.next=21;break}return"member"===a.type?a.$notify({message:"添加成员成功",type:"success",customClass:"dgg-tip-msg"}):a.$notify({message:"项目负责人更换成功",type:"success",customClass:"dgg-tip-msg"}),a.toTransactor_1=!1,e.next=17,a.get_assist_handle({zygsscId:a.transactionItem.id});case 17:200===(i=e.sent).code&&(i.data&&i.data.length>0?(a.assistHandle=i.data.filter(function(e,t,a){return 0==e.isManager}),o=i.data.filter(function(e,t,a){return 1==e.isManager}),a.projectManager=o.length>0?o[0]:{}):(a.assistHandle=[],a.projectManager={})),e.next=22;break;case 21:a.$notify({message:n.message,type:"error",customClass:"dgg-tip-msg"});case 22:case"end":return e.stop()}},e,a)})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),load:function(){}})}},"wdz+":function(e,t,a){},zAjt:function(e,t,a){"use strict";a.r(t);var r=a("tu3J"),s=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,function(){return r[e]})}(n);t.default=s.a}}]);